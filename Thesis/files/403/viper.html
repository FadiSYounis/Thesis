<!DOCTYPE html>
<html lang="en"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
  <link rel="dns-prefetch" href="https://assets-cdn.github.com/">
  <link rel="dns-prefetch" href="https://avatars0.githubusercontent.com/">
  <link rel="dns-prefetch" href="https://avatars1.githubusercontent.com/">
  <link rel="dns-prefetch" href="https://avatars2.githubusercontent.com/">
  <link rel="dns-prefetch" href="https://avatars3.githubusercontent.com/">
  <link rel="dns-prefetch" href="https://github-cloud.s3.amazonaws.com/">
  <link rel="dns-prefetch" href="https://user-images.githubusercontent.com/">



  <link crossorigin="anonymous" media="all" integrity="sha512-KDTN+N5tDqyAVqiTL8LuAYfCS2kKztX/cdejhBZu3hP7LuROj3O9LtASLb9ZMY5YALygmwk3Y5s1hy1vWLGtQg==" rel="stylesheet" href="frameworks-8f281eb0a8d2308ceb36e714ba3c3aec.css">
  <link crossorigin="anonymous" media="all" integrity="sha512-S03SEUSDhm6inBJc+LqIfQQCCPuSaE//B8autRfAZ/i+6RaDVTILjDMImkuEswH+IW6xtCG94fTZ/2wd8cKFUA==" rel="stylesheet" href="github-a35bd71ee445e9c0799247764da31e0c.css">
  
  
  <link crossorigin="anonymous" media="all" integrity="sha512-VxZgLPiRT4wMogNRwy9qVO15+ta9te/mxcvjePEjWO2b2X0gEhyzdPUdn+4AHiRMvxhOPuh5U2UA1DLmOXcKBQ==" rel="stylesheet" href="site-83dc1f7ebc9c7461fe1eab799b56c4c4.css">
  

  <meta name="viewport" content="width=device-width">
  
  <title>GitHub - spf13/viper: Go configuration with fangs</title>
    <meta name="description" content="GitHub is where people build software. More than 27 million people use GitHub to discover, fork, and contribute to over 80 million projects.">
  <link rel="search" type="application/opensearchdescription+xml" href="https://github.com/opensearch.xml" title="GitHub">
  <link rel="fluid-icon" href="https://github.com/fluidicon.png" title="GitHub">
  <meta property="fb:app_id" content="1401488693436528">

    
    <meta property="og:image" content="https://avatars0.githubusercontent.com/u/173412?s=400&amp;v=4"><meta property="og:site_name" content="GitHub"><meta property="og:type" content="object"><meta property="og:title" content="spf13/viper"><meta property="og:url" content="https://github.com/spf13/viper"><meta property="og:description" content="viper - Go configuration with fangs">

  <link rel="assets" href="https://assets-cdn.github.com/">
  
  <meta name="pjax-timeout" content="1000">
  
  <meta name="request-id" content="D33C:4565:909C9B:1103B84:5AC3C75F" data-pjax-transient="">


  

  <meta name="selected-link" value="repo_source" data-pjax-transient="">

    <meta name="google-site-verification" content="KT5gs8h0wvaagLKAVWq8bbeNwnZZK1r1XQysX3xurLU">
  <meta name="google-site-verification" content="ZzhVyEFwb7w3e0-uOTltm8Jsck2F5StVihD0exw2fsA">
  <meta name="google-site-verification" content="GXs5KoUUkNCoaAZn7wPN-t01Pywp9M3sEjnt_3_ZWPc">
    <meta name="google-analytics" content="UA-3769691-2">

<meta name="octolytics-host" content="collector.githubapp.com"><meta name="octolytics-app-id" content="github"><meta name="octolytics-event-url" content="https://collector.githubapp.com/github-external/browser_event"><meta name="octolytics-dimension-request_id" content="D33C:4565:909C9B:1103B84:5AC3C75F"><meta name="octolytics-dimension-region_edge" content="iad"><meta name="octolytics-dimension-region_render" content="iad">
<meta name="hydro-events-url" content="https://github.com/hydro_browser_events">
<meta name="analytics-location" content="/&lt;user-name&gt;/&lt;repo-name&gt;" data-pjax-transient="true">




  <meta class="js-ga-set" name="dimension1" content="Logged Out">


  

      <meta name="hostname" content="github.com">
    <meta name="user-login" content="">

      <meta name="expected-hostname" content="github.com">
    <meta name="js-proxy-site-detection-payload" content="ZTFlM2FiOGEwYzNhYzM5YzkzNTU4YjVlYjFiZWM4ODBjMjgxYmZkYzY4MWQ1NGVkZWRhMDI2NDYxZWQ3ZDVmMXx7InJlbW90ZV9hZGRyZXNzIjoiOTkuMjQ3LjE5MS4yMTEiLCJyZXF1ZXN0X2lkIjoiRDMzQzo0NTY1OjkwOUM5QjoxMTAzQjg0OjVBQzNDNzVGIiwidGltZXN0YW1wIjoxNTIyNzc5OTk5LCJob3N0IjoiZ2l0aHViLmNvbSJ9">

    <meta name="enabled-features" content="UNIVERSE_BANNER,FREE_TRIALS,MARKETPLACE_INSIGHTS,MARKETPLACE_INSIGHTS_CONVERSION_PERCENTAGES">

  <meta name="html-safe-nonce" content="a0db2f689375ded31f04bfecf05b994b5657d1fb">

  <meta http-equiv="x-pjax-version" content="a7446dfcc5eccdbf733c72fa033aa722">
  

      <link href="https://github.com/spf13/viper/commits/master.atom" rel="alternate" title="Recent Commits to viper:master" type="application/atom+xml">

  <meta name="description" content="viper - Go configuration with fangs">
  <meta name="go-import" content="github.com/spf13/viper git https://github.com/spf13/viper.git">

  <meta name="octolytics-dimension-user_id" content="173412"><meta name="octolytics-dimension-user_login" content="spf13"><meta name="octolytics-dimension-repository_id" content="18369373"><meta name="octolytics-dimension-repository_nwo" content="spf13/viper"><meta name="octolytics-dimension-repository_public" content="true"><meta name="octolytics-dimension-repository_is_fork" content="false"><meta name="octolytics-dimension-repository_network_root_id" content="18369373"><meta name="octolytics-dimension-repository_network_root_nwo" content="spf13/viper"><meta name="octolytics-dimension-repository_explore_github_marketplace_ci_cta_shown" content="false">


    <link rel="canonical" href="https://github.com/spf13/viper" data-pjax-transient="">


  <meta name="browser-stats-url" content="https://api.github.com/_private/browser/stats">

  <meta name="browser-errors-url" content="https://api.github.com/_private/browser/errors">

  <link rel="mask-icon" href="https://assets-cdn.github.com/pinned-octocat.svg" color="#000000">
  <link rel="icon" type="image/x-icon" class="js-site-favicon" href="https://assets-cdn.github.com/favicon.ico">

<meta name="theme-color" content="#1e2327">



<link rel="manifest" href="https://github.com/manifest.json" crossorigin="use-credentials">

  </head>

  <body class="logged-out env-production">
    

  <div class="position-relative js-header-wrapper ">
    <a href="#start-of-content" tabindex="1" class="px-2 py-4 show-on-focus js-skip-to-content">Skip to content</a>
    <div id="js-pjax-loader-bar" class="pjax-loader-bar"><div class="progress"></div></div>

    
    
    



        <header class="Header header-logged-out  position-relative f4 py-3" role="banner">
  <div class="container-lg d-flex px-3">
    <div class="d-flex flex-justify-between flex-items-center">
      <a class="header-logo-invertocat my-0" href="https://github.com/" aria-label="Homepage" data-ga-click="(Logged out) Header, go to homepage, icon:logo-wordmark">
        <svg height="32" class="octicon octicon-mark-github" viewBox="0 0 16 16" version="1.1" width="32" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path></svg>
      </a>

    </div>

    <div class="HeaderMenu HeaderMenu--bright d-flex flex-justify-between flex-auto">
        <nav class="mt-0">
          <ul class="d-flex list-style-none">
              <li class="ml-2">
                <a class="js-selected-navigation-item HeaderNavlink px-0 py-2 m-0" data-ga-click="Header, click, Nav menu - item:features" data-selected-links="/features /features/project-management /features/code-review /features/project-management /features/integrations /features" href="https://github.com/features">
                  Features
</a>              </li>
              <li class="ml-4">
                <a class="js-selected-navigation-item HeaderNavlink px-0 py-2 m-0" data-ga-click="Header, click, Nav menu - item:business" data-selected-links="/business /business/security /business/customers /business" href="https://github.com/business">
                  Business
</a>              </li>

              <li class="ml-4">
                <a class="js-selected-navigation-item HeaderNavlink px-0 py-2 m-0" data-ga-click="Header, click, Nav menu - item:explore" data-selected-links="/explore /trending /trending/developers /integrations /integrations/feature/code /integrations/feature/collaborate /integrations/feature/ship showcases showcases_search showcases_landing /explore" href="https://github.com/explore">
                  Explore
</a>              </li>

              <li class="ml-4">
                    <a class="js-selected-navigation-item HeaderNavlink px-0 py-2 m-0" data-ga-click="Header, click, Nav menu - item:marketplace" data-selected-links=" /marketplace" href="https://github.com/marketplace">
                      Marketplace
</a>              </li>
              <li class="ml-4">
                <a class="js-selected-navigation-item HeaderNavlink px-0 py-2 m-0" data-ga-click="Header, click, Nav menu - item:pricing" data-selected-links="/pricing /pricing/developer /pricing/team /pricing/business-hosted /pricing/business-enterprise /pricing" href="https://github.com/pricing">
                  Pricing
</a>              </li>
          </ul>
        </nav>

      <div class="d-flex">
          <div class="d-lg-flex flex-items-center mr-3">
            <div class="header-search scoped-search site-scoped-search js-site-search" role="search">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-site-search-form" data-scoped-search-url="/spf13/viper/search" data-unscoped-search-url="/search" action="/spf13/viper/search" accept-charset="UTF-8" method="get"><input name="utf8" value="✓" type="hidden">
    <label class="form-control header-search-wrapper  js-chromeless-input-container">
        <a class="header-search-scope no-underline" href="https://github.com/spf13/viper">This repository</a>
      <input class="form-control header-search-input  js-site-search-focus js-site-search-field is-clearable" data-hotkey="s,/" name="q" placeholder="Search" aria-label="Search this repository" data-unscoped-placeholder="Search GitHub" data-scoped-placeholder="Search" autocapitalize="off" type="text">
        <input class="js-site-search-type-field" name="type" type="hidden">
    </label>
</form></div>

          </div>

        <span class="d-inline-block">
            <div class="HeaderNavlink px-0 py-2 m-0">
              <a class="text-bold text-white no-underline" href="https://github.com/login?return_to=%2Fspf13%2Fviper" data-ga-click="(Logged out) Header, clicked Sign in, text:sign-in">Sign in</a>
                <span class="text-gray">or</span>
                <a class="text-bold text-white no-underline" href="https://github.com/join?source=header-repo" data-ga-click="(Logged out) Header, clicked Sign up, text:sign-up">Sign up</a>
            </div>
        </span>
      </div>
    </div>
  </div>
</header>

  </div>

  <div id="start-of-content" class="show-on-focus"></div>

    <div id="js-flash-container">
</div>



  <div role="main" class="application-main ">
        <div itemscope="" itemtype="http://schema.org/SoftwareSourceCode" class="">
    <div id="js-repo-pjax-container" data-pjax-container="">
      





  <div class="pagehead repohead instapaper_ignore readability-menu experiment-repo-nav  ">
    <div class="repohead-details-container clearfix container">

      <ul class="pagehead-actions">
  <li>
      <a href="https://github.com/login?return_to=%2Fspf13%2Fviper" class="btn btn-sm btn-with-count tooltipped tooltipped-n" aria-label="You must be signed in to watch a repository" rel="nofollow">
    <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
    Watch
  </a>
  <a class="social-count" href="https://github.com/spf13/viper/watchers" aria-label="133 users are watching this repository">
    133
  </a>

  </li>

  <li>
      <a href="https://github.com/login?return_to=%2Fspf13%2Fviper" class="btn btn-sm btn-with-count tooltipped tooltipped-n" aria-label="You must be signed in to star a repository" rel="nofollow">
    <svg class="octicon octicon-star" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M14 6l-4.9-.64L7 1 4.9 5.36 0 6l3.6 3.26L2.67 14 7 11.67 11.33 14l-.93-4.74z"></path></svg>
    Star
  </a>

    <a class="social-count js-social-count" href="https://github.com/spf13/viper/stargazers" aria-label="4910 users starred this repository">
      4,910
    </a>

  </li>

  <li>
      <a href="https://github.com/login?return_to=%2Fspf13%2Fviper" class="btn btn-sm btn-with-count tooltipped tooltipped-n" aria-label="You must be signed in to fork a repository" rel="nofollow">
        <svg class="octicon octicon-repo-forked" viewBox="0 0 10 16" version="1.1" width="10" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8 1a1.993 1.993 0 0 0-1 3.72V6L5 8 3 6V4.72A1.993 1.993 0 0 0 2 1a1.993 1.993 0 0 0-1 3.72V6.5l3 3v1.78A1.993 1.993 0 0 0 5 15a1.993 1.993 0 0 0 1-3.72V9.5l3-3V4.72A1.993 1.993 0 0 0 8 1zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3 10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3-10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"></path></svg>
        Fork
      </a>

    <a href="https://github.com/spf13/viper/network" class="social-count" aria-label="484 users forked this repository">
      484
    </a>
  </li>
</ul>

      <h1 class="public ">
  <svg class="octicon octicon-repo" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9H3V8h1v1zm0-3H3v1h1V6zm0-2H3v1h1V4zm0-2H3v1h1V2zm8-1v12c0 .55-.45 1-1 1H6v2l-1.5-1.5L3 16v-2H1c-.55 0-1-.45-1-1V1c0-.55.45-1 1-1h10c.55 0 1 .45 1 1zm-1 10H1v2h2v-1h3v1h5v-2zm0-10H2v9h9V1z"></path></svg>
  <span class="author" itemprop="author"><a class="url fn" rel="author" href="https://github.com/spf13">spf13</a></span><!--
--><span class="path-divider">/</span><!--
--><strong itemprop="name"><a data-pjax="#js-repo-pjax-container" href="https://github.com/spf13/viper">viper</a></strong>

</h1>

    </div>
    
<nav class="reponav js-repo-nav js-sidenav-container-pjax container" itemscope="" itemtype="http://schema.org/BreadcrumbList" role="navigation" data-pjax="#js-repo-pjax-container">

  <span itemscope="" itemtype="http://schema.org/ListItem" itemprop="itemListElement">
    <a class="js-selected-navigation-item selected reponav-item" itemprop="url" data-hotkey="g c" data-selected-links="repo_source repo_downloads repo_commits repo_releases repo_tags repo_branches repo_packages /spf13/viper" href="https://github.com/spf13/viper">
      <svg class="octicon octicon-code" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M9.5 3L8 4.5 11.5 8 8 11.5 9.5 13 14 8 9.5 3zm-5 0L0 8l4.5 5L6 11.5 2.5 8 6 4.5 4.5 3z"></path></svg>
      <span itemprop="name">Code</span>
      <meta itemprop="position" content="1">
</a>  </span>

    <span itemscope="" itemtype="http://schema.org/ListItem" itemprop="itemListElement">
      <a itemprop="url" data-hotkey="g i" class="js-selected-navigation-item reponav-item" data-selected-links="repo_issues repo_labels repo_milestones /spf13/viper/issues" href="https://github.com/spf13/viper/issues">
        <svg class="octicon octicon-issue-opened" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg>
        <span itemprop="name">Issues</span>
        <span class="Counter">155</span>
        <meta itemprop="position" content="2">
</a>    </span>

  <span itemscope="" itemtype="http://schema.org/ListItem" itemprop="itemListElement">
    <a data-hotkey="g p" itemprop="url" class="js-selected-navigation-item reponav-item" data-selected-links="repo_pulls checks /spf13/viper/pulls" href="https://github.com/spf13/viper/pulls">
      <svg class="octicon octicon-git-pull-request" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M11 11.28V5c-.03-.78-.34-1.47-.94-2.06C9.46 2.35 8.78 2.03 8 2H7V0L4 3l3 3V4h1c.27.02.48.11.69.31.21.2.3.42.31.69v6.28A1.993 1.993 0 0 0 10 15a1.993 1.993 0 0 0 1-3.72zm-1 2.92c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zM4 3c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v6.56A1.993 1.993 0 0 0 2 15a1.993 1.993 0 0 0 1-3.72V4.72c.59-.34 1-.98 1-1.72zm-.8 10c0 .66-.55 1.2-1.2 1.2-.65 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"></path></svg>
      <span itemprop="name">Pull requests</span>
      <span class="Counter">58</span>
      <meta itemprop="position" content="3">
</a>  </span>

    <a data-hotkey="g b" class="js-selected-navigation-item reponav-item" data-selected-links="repo_projects new_repo_project repo_project /spf13/viper/projects" href="https://github.com/spf13/viper/projects">
      <svg class="octicon octicon-project" viewBox="0 0 15 16" version="1.1" width="15" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M10 12h3V2h-3v10zm-4-2h3V2H6v8zm-4 4h3V2H2v12zm-1 1h13V1H1v14zM14 0H1a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h13a1 1 0 0 0 1-1V1a1 1 0 0 0-1-1z"></path></svg>
      Projects
      <span class="Counter">0</span>
</a>


  <a class="js-selected-navigation-item reponav-item" data-selected-links="repo_graphs repo_contributors dependency_graph pulse /spf13/viper/pulse" href="https://github.com/spf13/viper/pulse">
    <svg class="octicon octicon-graph" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M16 14v1H0V0h1v14h15zM5 13H3V8h2v5zm4 0H7V3h2v10zm4 0h-2V6h2v7z"></path></svg>
    Insights
</a>

</nav>


  </div>

<div class="container new-discussion-timeline experiment-repo-nav  ">
  <div class="repository-content ">

    
      <div class="signup-prompt-bg rounded-1">
      <div class="signup-prompt p-4 text-center mb-4 rounded-1">
        <div class="position-relative">
          <!-- '"` --><!-- </textarea></xmp> --><form action="/site/dismiss_signup_prompt" accept-charset="UTF-8" method="post"><input name="utf8" value="✓" type="hidden"><input name="authenticity_token" value="cfGaj3uTpRiWAv6DozUIxZgtLXc7rB2OTH4lOUgkLk7Afhhl+KNfZiqRbudm2wV1j2JKgLn41pcRI4IIjsWRjg==" type="hidden">
            <button type="submit" class="position-absolute top-0 right-0 btn-link link-gray" data-ga-click="(Logged out) Sign up prompt, clicked Dismiss, text:dismiss">
              Dismiss
            </button>
</form>
          <h3 class="pt-2">Join GitHub today</h3>
          <p class="col-6 mx-auto">GitHub is home to over 20 million 
developers working together to host and review code, manage projects, 
and build software together.</p>
          <p class="pb-2">
            <a class="btn btn-blue" href="https://github.com/join?source=prompt-code" data-ga-click="(Logged out) Sign up prompt, clicked Sign up, text:sign-up">Sign up</a>
          </p>
        </div>
      </div>
    </div>


  <div class="js-repo-meta-container">
  <div class="repository-meta mb-0 mb-3 js-repo-meta-edit js-details-container ">
    <div class="repository-meta-content col-11 mb-1">
          <span class="col-11 text-gray-dark mr-2" itemprop="about">
            Go configuration with fangs
          </span>
    </div>

  </div>

</div>



  <div class="overall-summary overall-summary-bottomless">
    <div class="stats-switcher-viewport js-stats-switcher-viewport">
      <div class="stats-switcher-wrapper">
      <ul class="numbers-summary">
        <li class="commits">
          <a data-pjax="" href="https://github.com/spf13/viper/commits/master">
              <svg class="octicon octicon-history" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8 13H6V6h5v2H8v5zM7 1C4.81 1 2.87 2.02 1.59 3.59L0 2v4h4L2.5 4.5C3.55 3.17 5.17 2.3 7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-.34.03-.67.09-1H.08C.03 7.33 0 7.66 0 8c0 3.86 3.14 7 7 7s7-3.14 7-7-3.14-7-7-7z"></path></svg>
              <span class="num text-emphasized">
                203
              </span>
              commits
          </a>
        </li>
        <li>
          <a data-pjax="" href="https://github.com/spf13/viper/branches">
            <svg class="octicon octicon-git-branch" viewBox="0 0 10 16" version="1.1" width="10" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M10 5c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v.3c-.02.52-.23.98-.63 1.38-.4.4-.86.61-1.38.63-.83.02-1.48.16-2 .45V4.72a1.993 1.993 0 0 0-1-3.72C.88 1 0 1.89 0 3a2 2 0 0 0 1 1.72v6.56c-.59.35-1 .99-1 1.72 0 1.11.89 2 2 2 1.11 0 2-.89 2-2 0-.53-.2-1-.53-1.36.09-.06.48-.41.59-.47.25-.11.56-.17.94-.17 1.05-.05 1.95-.45 2.75-1.25S8.95 7.77 9 6.73h-.02C9.59 6.37 10 5.73 10 5zM2 1.8c.66 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2C1.35 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2zm0 12.41c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm6-8c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"></path></svg>
            <span class="num text-emphasized">
              2
            </span>
            branches
          </a>
        </li>

        <li>
          <a href="https://github.com/spf13/viper/releases">
            <svg class="octicon octicon-tag" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.73 1.73C7.26 1.26 6.62 1 5.96 1H3.5C2.13 1 1 2.13 1 3.5v2.47c0 .66.27 1.3.73 1.77l6.06 6.06c.39.39 1.02.39 1.41 0l4.59-4.59a.996.996 0 0 0 0-1.41L7.73 1.73zM2.38 7.09c-.31-.3-.47-.7-.47-1.13V3.5c0-.88.72-1.59 1.59-1.59h2.47c.42 0 .83.16 1.13.47l6.14 6.13-4.73 4.73-6.13-6.15zM3.01 3h2v2H3V3h.01z"></path></svg>
            <span class="num text-emphasized">
              3
            </span>
            releases
          </a>
        </li>

        <li>
            <a href="https://github.com/spf13/viper/graphs/contributors">
  <svg class="octicon octicon-organization" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M16 12.999c0 .439-.45 1-1 1H7.995c-.539 0-.994-.447-.995-.999H1c-.54 0-1-.561-1-1 0-2.634 3-4 3-4s.229-.409 0-1c-.841-.621-1.058-.59-1-3 .058-2.419 1.367-3 2.5-3s2.442.58 2.5 3c.058 2.41-.159 2.379-1 3-.229.59 0 1 0 1s1.549.711 2.42 2.088C9.196 9.369 10 8.999 10 8.999s.229-.409 0-1c-.841-.62-1.058-.59-1-3 .058-2.419 1.367-3 2.5-3s2.437.581 2.495 3c.059 2.41-.158 2.38-1 3-.229.59 0 1 0 1s3.005 1.366 3.005 4"></path></svg>
    <span class="num text-emphasized">
      62
    </span>
    contributors
</a>

        </li>
          <li>
            <a href="https://github.com/spf13/viper/blob/master/LICENSE">
              <svg class="octicon octicon-law" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 4c-.83 0-1.5-.67-1.5-1.5S6.17 1 7 1s1.5.67 1.5 1.5S7.83 4 7 4zm7 6c0 1.11-.89 2-2 2h-1c-1.11 0-2-.89-2-2l2-4h-1c-.55 0-1-.45-1-1H8v8c.42 0 1 .45 1 1h1c.42 0 1 .45 1 1H3c0-.55.58-1 1-1h1c0-.55.58-1 1-1h.03L6 5H5c0 .55-.45 1-1 1H3l2 4c0 1.11-.89 2-2 2H2c-1.11 0-2-.89-2-2l2-4H1V5h3c0-.55.45-1 1-1h4c.55 0 1 .45 1 1h3v1h-1l2 4zM2.5 7L1 10h3L2.5 7zM13 10l-1.5-3-1.5 3h3z"></path></svg>
                MIT
            </a>
          </li>
      </ul>

        <div class="repository-lang-stats">
          <ol class="repository-lang-stats-numbers">
            <li>
                <a href="https://github.com/spf13/viper/search?l=go" data-ga-click="Repository, language stats search click, location:repo overview">
                  <span class="color-block language-color" style="background-color:#375eab;"></span>
                  <span class="lang">Go</span>
                  <span class="percent">100.0%</span>
                </a>
            </li>
          </ol>
        </div>
      </div>
    </div>
  </div>

    <div class="repository-lang-stats-graph js-toggle-lang-stats" title="Click for language details" data-ga-click="Repository, language bar stats toggle, location:repo overview">
      <span class="language-color" aria-label="Go 100.0%" style="width:100.0%; background-color:#375eab;" itemprop="keywords">Go</span>
    </div>



  <div class="file-navigation in-mid-page">

    <details class="get-repo-select-menu js-get-repo-select-menu float-right position-relative dropdown-details details-reset">
  <summary class="btn btn-sm btn-primary">
    Clone or download
    <span class="dropdown-caret"></span>
  </summary>
  <div class="position-relative">
    <div class="get-repo-modal dropdown-menu dropdown-menu-sw pb-0 js-toggler-container  js-get-repo-modal">

      <div class="get-repo-modal-options">
          <div class="clone-options https-clone-options">

            <h4 class="mb-1">
              Clone with HTTPS
              <a class="muted-link" href="https://help.github.com/articles/which-remote-url-should-i-use" target="_blank" title="Which remote URL should I use?">
                <svg class="octicon octicon-question" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M6 10h2v2H6v-2zm4-3.5C10 8.64 8 9 8 9H6c0-.55.45-1 1-1h.5c.28 0 .5-.22.5-.5v-1c0-.28-.22-.5-.5-.5h-1c-.28 0-.5.22-.5.5V7H4c0-1.5 1.5-3 3-3s3 1 3 2.5zM7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7z"></path></svg>
              </a>
            </h4>
            <p class="mb-2 get-repo-decription-text">
              Use Git or checkout with SVN using the web URL.
            </p>

            <div class="input-group">
  <input class="form-control input-monospace input-sm js-url-field" value="https://github.com/spf13/viper.git" aria-label="Clone this repository at https://github.com/spf13/viper.git" readonly="readonly" type="text">
  <div class="input-group-button">
    <clipboard-copy value="https://github.com/spf13/viper.git" aria-label="Copy to clipboard" class="btn btn-sm tooltipped tooltipped-s" copied-label="Copied!">
      <svg class="octicon octicon-clippy" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M2 13h4v1H2v-1zm5-6H2v1h5V7zm2 3V8l-3 3 3 3v-2h5v-2H9zM4.5 9H2v1h2.5V9zM2 12h2.5v-1H2v1zm9 1h1v2c-.02.28-.11.52-.3.7-.19.18-.42.28-.7.3H1c-.55 0-1-.45-1-1V4c0-.55.45-1 1-1h3c0-1.11.89-2 2-2 1.11 0 2 .89 2 2h3c.55 0 1 .45 1 1v5h-1V6H1v9h10v-2zM2 5h8c0-.55-.45-1-1-1H8c-.55 0-1-.45-1-1s-.45-1-1-1-1 .45-1 1-.45 1-1 1H3c-.55 0-1 .45-1 1z"></path></svg>
    </clipboard-copy>
  </div>
</div>

          </div>

        <div class="mt-2">
          
<a href="https://github.com/spf13/viper/archive/master.zip" class="btn btn-outline get-repo-btn
" rel="nofollow" data-ga-click="Repository, download zip, location:repo overview">
  Download ZIP
</a>

        </div>
      </div>

      <div class="js-modal-download-mac py-2 px-3 d-none">
        <h4 class="lh-condensed mb-3">Launching GitHub Desktop<span class="animated-ellipsis-container"><span class="animated-ellipsis">...</span></span></h4>
        <p class="text-gray">If nothing happens, <a href="https://desktop.github.com/">download GitHub Desktop</a> and try again.</p>
        <p><button class="btn-link js-get-repo-modal-download-back">Go back</button></p>
      </div>

      <div class="js-modal-download-windows py-2 px-3 d-none">
        <h4 class="lh-condensed mb-3">Launching GitHub Desktop<span class="animated-ellipsis-container"><span class="animated-ellipsis">...</span></span></h4>
        <p class="text-gray">If nothing happens, <a href="https://desktop.github.com/">download GitHub Desktop</a> and try again.</p>
        <p><button class="btn-link js-get-repo-modal-download-back">Go back</button></p>
      </div>

      <div class="js-modal-download-xcode py-2 px-3 d-none">
        <h4 class="lh-condensed mb-3">Launching Xcode<span class="animated-ellipsis-container"><span class="animated-ellipsis">...</span></span></h4>
        <p class="text-gray">If nothing happens, <a href="https://developer.apple.com/xcode/">download Xcode</a> and try again.</p>
        <p><button class="btn-link js-get-repo-modal-download-back">Go back</button></p>
      </div>

      <div class="js-modal-download-visual-studio py-2 px-3 d-none">
        <h4 class="lh-condensed mb-3">Launching Visual Studio<span class="animated-ellipsis-container"><span class="animated-ellipsis">...</span></span></h4>
        <p class="text-gray">If nothing happens, <a href="https://visualstudio.github.com/">download the GitHub extension for Visual Studio</a> and try again.</p>
        <p><button class="btn-link js-get-repo-modal-download-back">Go back</button></p>
      </div>

    </div>
  </div>
</details>


  <div class="BtnGroup float-right">

    <a href="https://github.com/spf13/viper/find/master" class="btn btn-sm empty-icon float-right BtnGroup-item" data-pjax="" data-hotkey="t" data-ga-click="Repository, find file, location:repo overview">
      Find file
    </a>
  </div>

  
<div class="select-menu branch-select-menu js-menu-container js-select-menu float-left">
  <button class=" btn btn-sm select-menu-button js-menu-target css-truncate" data-hotkey="w" type="button" aria-label="Switch branches or tags" aria-expanded="false" aria-haspopup="true">
      <i>Branch:</i>
      <span class="js-select-button css-truncate-target">master</span>
  </button>

  <div class="select-menu-modal-holder js-menu-content js-navigation-container" data-pjax="">

    <div class="select-menu-modal">
      <div class="select-menu-header">
        <svg class="octicon octicon-x js-menu-close" role="img" aria-label="Close" viewBox="0 0 12 16" version="1.1" width="12" height="16"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48z"></path></svg>
        <span class="select-menu-title">Switch branches/tags</span>
      </div>

      <div class="select-menu-filters">
        <div class="select-menu-text-filter">
          <input aria-label="Filter branches/tags" id="context-commitish-filter-field" class="form-control js-filterable-field js-navigation-enable" placeholder="Filter branches/tags" type="text">
        </div>
        <div class="select-menu-tabs">
          <ul>
            <li class="select-menu-tab">
              <a href="#" data-tab-filter="branches" data-filter-placeholder="Filter branches/tags" class="js-select-menu-tab" role="tab">Branches</a>
            </li>
            <li class="select-menu-tab">
              <a href="#" data-tab-filter="tags" data-filter-placeholder="Find a tag…" class="js-select-menu-tab" role="tab">Tags</a>
            </li>
          </ul>
        </div>
      </div>

      <div class="select-menu-list select-menu-tab-bucket js-select-menu-tab-bucket" data-tab-filter="branches" role="menu">

        <div data-filterable-for="context-commitish-filter-field" data-filterable-type="substring">


            <a class="select-menu-item js-navigation-item js-navigation-open selected" href="https://github.com/spf13/viper/tree/master" data-name="master" data-skip-pjax="true" rel="nofollow">
              <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"></path></svg>
              <span class="select-menu-item-text css-truncate-target js-select-menu-filter-text">
                master
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open " href="https://github.com/spf13/viper/tree/revert-313-master" data-name="revert-313-master" data-skip-pjax="true" rel="nofollow">
              <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"></path></svg>
              <span class="select-menu-item-text css-truncate-target js-select-menu-filter-text">
                revert-313-master
              </span>
            </a>
        </div>

          <div class="select-menu-no-results">Nothing to show</div>
      </div>

      <div class="select-menu-list select-menu-tab-bucket js-select-menu-tab-bucket" data-tab-filter="tags">
        <div data-filterable-for="context-commitish-filter-field" data-filterable-type="substring">


            <a class="select-menu-item js-navigation-item js-navigation-open " href="https://github.com/spf13/viper/tree/v1.0.2" data-name="v1.0.2" data-skip-pjax="true" rel="nofollow">
              <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"></path></svg>
              <span class="select-menu-item-text css-truncate-target" title="v1.0.2">
                v1.0.2
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open " href="https://github.com/spf13/viper/tree/v1.0.1" data-name="v1.0.1" data-skip-pjax="true" rel="nofollow">
              <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"></path></svg>
              <span class="select-menu-item-text css-truncate-target" title="v1.0.1">
                v1.0.1
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open " href="https://github.com/spf13/viper/tree/v1.0.0" data-name="v1.0.0" data-skip-pjax="true" rel="nofollow">
              <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"></path></svg>
              <span class="select-menu-item-text css-truncate-target" title="v1.0.0">
                v1.0.0
              </span>
            </a>
        </div>

        <div class="select-menu-no-results">Nothing to show</div>
      </div>

    </div>
  </div>
</div>


        <button type="button" class="btn btn-sm disabled tooltipped tooltipped-n new-pull-request-btn" aria-label="You must be signed in to create a pull request">
          New pull request
        </button>

  <div class="breadcrumb">
    
  </div>
</div>


  

<include-fragment src="/spf13/viper/tree-commit/b5e8006cbee93ec955a89ab31e0e3ce3204f3736" class="commit-tease commit-loader">
  <div class="blank">
    <img alt="" class="loader" src="octocat-spinner-32-EAF2F5.gif" width="16" height="16">
    Fetching latest commit…
  </div>
  <div class="loader-error">
    Cannot retrieve the latest commit at this time.
  </div>
</include-fragment>


<div class="file-wrap">

  <a class="d-none js-permalink-shortcut" data-hotkey="y" href="https://github.com/spf13/viper/tree/b5e8006cbee93ec955a89ab31e0e3ce3204f3736">Permalink</a>

  <table class="files js-navigation-container js-active-navigation-container" data-pjax="">


    <tbody>
      <tr class="warning include-fragment-error">
        <td class="icon"><svg class="octicon octicon-alert" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.865 1.52c-.18-.31-.51-.5-.87-.5s-.69.19-.87.5L.275 13.5c-.18.31-.18.69 0 1 .19.31.52.5.87.5h13.7c.36 0 .69-.19.86-.5.17-.31.18-.69.01-1L8.865 1.52zM8.995 13h-2v-2h2v2zm0-3h-2V6h2v4z"></path></svg></td>
        <td class="content" colspan="3">Failed to load latest commit information.</td>
      </tr>

        <tr class="js-navigation-item">
          <td class="icon">
            <svg class="octicon octicon-file-directory" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M13 4H7V3c0-.66-.31-1-1-1H1c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V5c0-.55-.45-1-1-1zM6 4H1V3h5v1z"></path></svg>
            <img class="spinner" alt="" src="octocat-spinner-32.gif" width="16" height="16">
          </td>
          <td class="content">
            <span class="css-truncate css-truncate-target"><a class="js-navigation-open" title="remote" id="2c18e486683a3db1e645ad8523223b72-6f475f0366ee75766280ed5da0a0eb8777ae75c4" href="https://github.com/spf13/viper/tree/master/remote">remote</a></span>
          </td>
          <td class="message">
            <span class="css-truncate css-truncate-target">
                  <a data-pjax="true" title="Feature/write config (#287)

* Added method to write into TOML file.

* Added functionality to export configuration based on config type. The feature supports JSON and TOML.

* Added method to write into YAML file.

* Fixed the issue of incorrect defer and error checking order. The error checking must be first otherwise it will cause panic.

* Add WriteConfig methods

* Add support for toml

* Add shared write function and safe methods

* Fix incorrectly modified imports

* Remove extra comments

* Fix spelling

* Make marshal spelling consistent throughout

* Add support for remaining configuration types

This commit moves a significant portion of the code back to viper.go to
facilitate having access to the object when reading the files. The purpose is to
add properties to the viper object at read time, so that we can add the comments
back to the file when writing.

* Add tests for each written file type

* Modify test for updated HCL specification

* Modify to only support HCL write in Go 1.7

* Revert &quot;Modify to only support HCL write in Go 1.7&quot;

This reverts commit 12b34bc4eb92cbf8ebfd56b79519f448607e3e51.

* Need to truncate the file before writing

* Write all settings including overrides

* Use filename variable

* Lint remote.go

* Fix toml return count error" class="message" href="https://github.com/spf13/viper/commit/1a0c4a370c3e8286b835467d2dfcdaf636c3538b">Feature/write config (</a><a href="https://github.com/spf13/viper/pull/287" class="issue-link js-issue-link" data-error-text="Failed to load issue title" data-id="194490828" data-permission-text="Issue title is private" data-url="https://github.com/spf13/viper/issues/287">#287</a><a data-pjax="true" title="Feature/write config (#287)

* Added method to write into TOML file.

* Added functionality to export configuration based on config type. The feature supports JSON and TOML.

* Added method to write into YAML file.

* Fixed the issue of incorrect defer and error checking order. The error checking must be first otherwise it will cause panic.

* Add WriteConfig methods

* Add support for toml

* Add shared write function and safe methods

* Fix incorrectly modified imports

* Remove extra comments

* Fix spelling

* Make marshal spelling consistent throughout

* Add support for remaining configuration types

This commit moves a significant portion of the code back to viper.go to
facilitate having access to the object when reading the files. The purpose is to
add properties to the viper object at read time, so that we can add the comments
back to the file when writing.

* Add tests for each written file type

* Modify test for updated HCL specification

* Modify to only support HCL write in Go 1.7

* Revert &quot;Modify to only support HCL write in Go 1.7&quot;

This reverts commit 12b34bc4eb92cbf8ebfd56b79519f448607e3e51.

* Need to truncate the file before writing

* Write all settings including overrides

* Use filename variable

* Lint remote.go

* Fix toml return count error" class="message" href="https://github.com/spf13/viper/commit/1a0c4a370c3e8286b835467d2dfcdaf636c3538b">)</a>
            </span>
          </td>
          <td class="age">
            <span class="css-truncate css-truncate-target"><time-ago datetime="2017-12-07T04:26:31Z">Dec 6, 2017</time-ago></span>
          </td>
        </tr>
        <tr class="js-navigation-item">
          <td class="icon">
            <svg class="octicon octicon-file" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M6 5H2V4h4v1zM2 8h7V7H2v1zm0 2h7V9H2v1zm0 2h7v-1H2v1zm10-7.5V14c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V2c0-.55.45-1 1-1h7.5L12 4.5zM11 5L8 2H1v12h10V5z"></path></svg>
            <img class="spinner" alt="" src="octocat-spinner-32.gif" width="16" height="16">
          </td>
          <td class="content">
            <span class="css-truncate css-truncate-target"><a class="js-navigation-open" title=".gitignore" id="a084b794bc0759e7a6b77810e01874f2-352a34a566c580ea032aa4187634b619177561da" href="https://github.com/spf13/viper/blob/master/.gitignore">.gitignore</a></span>
          </td>
          <td class="message">
            <span class="css-truncate css-truncate-target">
                  <a data-pjax="true" title="Remove expensive TRACE logging

Also avoid doing a strings.Split in the Get common case.

Any TRACE statements in these hot paths must be totally turned off when not testing.

```
benchmark                     old ns/op     new ns/op     delta
BenchmarkGetBool-4            4090          409           -90.00%
BenchmarkGetBoolFromMap-4     6.33          6.28          -0.79%

benchmark                     old allocs     new allocs     delta
BenchmarkGetBool-4            6              3              -50.00%
BenchmarkGetBoolFromMap-4     0              0              +0.00%

benchmark                     old bytes     new bytes     delta
BenchmarkGetBool-4            129           33            -74.42%
BenchmarkGetBoolFromMap-4     0             0             +0.00%
```

Fixes #242" class="message" href="https://github.com/spf13/viper/commit/382f87b929b84ce13e9c8a375a4b217f224e6c65">Remove expensive TRACE logging</a>
            </span>
          </td>
          <td class="age">
            <span class="css-truncate css-truncate-target"><time-ago datetime="2016-09-26T15:04:02Z">Sep 26, 2016</time-ago></span>
          </td>
        </tr>
        <tr class="js-navigation-item">
          <td class="icon">
            <svg class="octicon octicon-file" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M6 5H2V4h4v1zM2 8h7V7H2v1zm0 2h7V9H2v1zm0 2h7v-1H2v1zm10-7.5V14c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V2c0-.55.45-1 1-1h7.5L12 4.5zM11 5L8 2H1v12h10V5z"></path></svg>
            <img class="spinner" alt="" src="octocat-spinner-32.gif" width="16" height="16">
          </td>
          <td class="content">
            <span class="css-truncate css-truncate-target"><a class="js-navigation-open" title=".travis.yml" id="354f30a63fb0907d4ad57269548329e3-55960d11b7bec66f9e7b74899615f02d8dd68748" href="https://github.com/spf13/viper/blob/master/.travis.yml">.travis.yml</a></span>
          </td>
          <td class="message">
            <span class="css-truncate css-truncate-target">
                  <a data-pjax="true" title="travis: update go versions" class="message" href="https://github.com/spf13/viper/commit/aafc9e6bc7b7bb53ddaa75a5ef49a17d6e654be5">travis: update go versions</a>
            </span>
          </td>
          <td class="age">
            <span class="css-truncate css-truncate-target"><time-ago datetime="2017-12-27T19:41:43Z">Dec 27, 2017</time-ago></span>
          </td>
        </tr>
        <tr class="js-navigation-item">
          <td class="icon">
            <svg class="octicon octicon-file" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M6 5H2V4h4v1zM2 8h7V7H2v1zm0 2h7V9H2v1zm0 2h7v-1H2v1zm10-7.5V14c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V2c0-.55.45-1 1-1h7.5L12 4.5zM11 5L8 2H1v12h10V5z"></path></svg>
            <img class="spinner" alt="" src="octocat-spinner-32.gif" width="16" height="16">
          </td>
          <td class="content">
            <span class="css-truncate css-truncate-target"><a class="js-navigation-open" title="LICENSE" id="9879d6db96fd29134fc802214163b95a-4527efb9c067932d21b145e55cc7a38d58b24c13" itemprop="license" href="https://github.com/spf13/viper/blob/master/LICENSE">LICENSE</a></span>
          </td>
          <td class="message">
            <span class="css-truncate css-truncate-target">
                  <a data-pjax="true" title="Initial commit" class="message" href="https://github.com/spf13/viper/commit/f98d9bf08b6bdd3edaa8e4c619ea47f74aee5611">Initial commit</a>
            </span>
          </td>
          <td class="age">
            <span class="css-truncate css-truncate-target"><time-ago datetime="2014-04-02T14:33:33Z">Apr 2, 2014</time-ago></span>
          </td>
        </tr>
        <tr class="js-navigation-item">
          <td class="icon">
            <svg class="octicon octicon-file" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M6 5H2V4h4v1zM2 8h7V7H2v1zm0 2h7V9H2v1zm0 2h7v-1H2v1zm10-7.5V14c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V2c0-.55.45-1 1-1h7.5L12 4.5zM11 5L8 2H1v12h10V5z"></path></svg>
            <img class="spinner" alt="" src="octocat-spinner-32.gif" width="16" height="16">
          </td>
          <td class="content">
            <span class="css-truncate css-truncate-target"><a class="js-navigation-open" title="README.md" id="04c6e90faac2675aa89e2176d2eec7d8-64bf47435847d3b092866baf49dfa55329027616" href="https://github.com/spf13/viper/blob/master/README.md">README.md</a></span>
          </td>
          <td class="message">
            <span class="css-truncate css-truncate-target">
                  <a data-pjax="true" title="Fix incorrect name of function in README.md

Change `SetEnvReplacer` to `SetEnvKeyReplacer`" class="message" href="https://github.com/spf13/viper/commit/8ef37cbca71638bf32f3d5e194117d4cb46da163">Fix incorrect name of function in README.md</a>
            </span>
          </td>
          <td class="age">
            <span class="css-truncate css-truncate-target"><time-ago datetime="2017-10-20T10:40:09Z">Oct 20, 2017</time-ago></span>
          </td>
        </tr>
        <tr class="js-navigation-item">
          <td class="icon">
            <svg class="octicon octicon-file" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M6 5H2V4h4v1zM2 8h7V7H2v1zm0 2h7V9H2v1zm0 2h7v-1H2v1zm10-7.5V14c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V2c0-.55.45-1 1-1h7.5L12 4.5zM11 5L8 2H1v12h10V5z"></path></svg>
            <img class="spinner" alt="" src="octocat-spinner-32.gif" width="16" height="16">
          </td>
          <td class="content">
            <span class="css-truncate css-truncate-target"><a class="js-navigation-open" title="flags.go" id="7cd159a8d9276a11b8d5b9c888d1ea24-dd32f4e1c262bf0ba63411dd261ac8353b2df660" href="https://github.com/spf13/viper/blob/master/flags.go">flags.go</a></span>
          </td>
          <td class="message">
            <span class="css-truncate css-truncate-target">
                  <a data-pjax="true" title="Add FlagValue interface to support other flag systems.

Using an interface allows people to use their favourite flag system
with viper without being restricted to the semantics of pflag or the
standard library.

This change introduce two new functions `BindFlagValues` and
`BindFlagValue` that behave like `BindFlags` and `BindFlag` but using
the new interface as values.

This change also introduces two internal structures to transform
`*pflag.FlagSet` and `*pflag.Flag` into the new interface. This way,
viper keeps working as expected for people that are currently using the
pflag package without breaking backwards compatibility.

Signed-off-by: David Calavera &lt;david.calavera@gmail.com&gt;" class="message" href="https://github.com/spf13/viper/commit/66249a6550e35684689e1b6672c97d5603f83080">Add FlagValue interface to support other flag systems.</a>
            </span>
          </td>
          <td class="age">
            <span class="css-truncate css-truncate-target"><time-ago datetime="2015-12-24T15:16:41Z">Dec 24, 2015</time-ago></span>
          </td>
        </tr>
        <tr class="js-navigation-item">
          <td class="icon">
            <svg class="octicon octicon-file" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M6 5H2V4h4v1zM2 8h7V7H2v1zm0 2h7V9H2v1zm0 2h7v-1H2v1zm10-7.5V14c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V2c0-.55.45-1 1-1h7.5L12 4.5zM11 5L8 2H1v12h10V5z"></path></svg>
            <img class="spinner" alt="" src="octocat-spinner-32.gif" width="16" height="16">
          </td>
          <td class="content">
            <span class="css-truncate css-truncate-target"><a class="js-navigation-open" title="flags_test.go" id="2247c4ca8b638a731f6e98b51ac4db77-0b976b60523c422db04b5d43aa843817af80a393" href="https://github.com/spf13/viper/blob/master/flags_test.go">flags_test.go</a></span>
          </td>
          <td class="message">
            <span class="css-truncate css-truncate-target">
                  <a data-pjax="true" title="Run gofmt on all existing code

Also:

* Add check to .travis.yml that verifies that all code is gofmt-compliant
* Touch up some newlines

See #351" class="message" href="https://github.com/spf13/viper/commit/8ac2e2e20f3d24e5b3b85ae0fcd11bdb0caf0f15">Run gofmt on all existing code</a>
            </span>
          </td>
          <td class="age">
            <span class="css-truncate css-truncate-target"><time-ago datetime="2017-07-23T05:47:47Z">Jul 23, 2017</time-ago></span>
          </td>
        </tr>
        <tr class="js-navigation-item">
          <td class="icon">
            <svg class="octicon octicon-file" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M6 5H2V4h4v1zM2 8h7V7H2v1zm0 2h7V9H2v1zm0 2h7v-1H2v1zm10-7.5V14c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V2c0-.55.45-1 1-1h7.5L12 4.5zM11 5L8 2H1v12h10V5z"></path></svg>
            <img class="spinner" alt="" src="octocat-spinner-32.gif" width="16" height="16">
          </td>
          <td class="content">
            <span class="css-truncate css-truncate-target"><a class="js-navigation-open" title="overrides_test.go" id="ff3e9ff2a656e65d4dfa63f63d8a1fe4-dd2aa9b0dbdb3358815255390ab74952d9b452a3" href="https://github.com/spf13/viper/blob/master/overrides_test.go">overrides_test.go</a></span>
          </td>
          <td class="message">
            <span class="css-truncate css-truncate-target">
                  <a data-pjax="true" title="Nested maps (#195)

Fixes #71, #93, #158, #168, #209, #141, #160, #162, #190

* Fixed: indentation in comment
* Fixed: Get() returns nil when nested element not found
* Fixed: insensitiviseMaps() made recursive so that nested keys are lowercased
* Fixed: order of expected&lt;=&gt;actual in assert.Equal() statements
* Fixed: find() looks into &quot;overrides&quot; first
* Fixed: TestBindPFlags() to use a new Viper instance
* Fixed: removed extra aliases from display in Debug()
* Added: test for checking precedence of dot-containing keys.
* Fixed: Set() and SetDefault() insert nested values
* Added: tests for overriding nested values
* Changed: AllKeys() includes all keys / AllSettings() includes overridden nested values
* Added: test for shadowed nested key
* Fixed: properties parsing generates nested maps
* Fixed: Get() and IsSet() work correctly on nested values
* Changed: modifier README.md to reflect changes" class="message" href="https://github.com/spf13/viper/commit/ec4eb2fa8549869ae7a2accd4fcc83d1c0555c15">Nested maps (</a><a href="https://github.com/spf13/viper/pull/195" class="issue-link js-issue-link" data-url="https://github.com/spf13/viper/issues/195" data-id="158315896" data-error-text="Failed to load issue title" data-permission-text="Issue title is private">#195</a><a data-pjax="true" title="Nested maps (#195)

Fixes #71, #93, #158, #168, #209, #141, #160, #162, #190

* Fixed: indentation in comment
* Fixed: Get() returns nil when nested element not found
* Fixed: insensitiviseMaps() made recursive so that nested keys are lowercased
* Fixed: order of expected&lt;=&gt;actual in assert.Equal() statements
* Fixed: find() looks into &quot;overrides&quot; first
* Fixed: TestBindPFlags() to use a new Viper instance
* Fixed: removed extra aliases from display in Debug()
* Added: test for checking precedence of dot-containing keys.
* Fixed: Set() and SetDefault() insert nested values
* Added: tests for overriding nested values
* Changed: AllKeys() includes all keys / AllSettings() includes overridden nested values
* Added: test for shadowed nested key
* Fixed: properties parsing generates nested maps
* Fixed: Get() and IsSet() work correctly on nested values
* Changed: modifier README.md to reflect changes" class="message" href="https://github.com/spf13/viper/commit/ec4eb2fa8549869ae7a2accd4fcc83d1c0555c15">)</a>
            </span>
          </td>
          <td class="age">
            <span class="css-truncate css-truncate-target"><time-ago datetime="2016-10-08T08:00:18Z">Oct 8, 2016</time-ago></span>
          </td>
        </tr>
        <tr class="js-navigation-item">
          <td class="icon">
            <svg class="octicon octicon-file" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M6 5H2V4h4v1zM2 8h7V7H2v1zm0 2h7V9H2v1zm0 2h7v-1H2v1zm10-7.5V14c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V2c0-.55.45-1 1-1h7.5L12 4.5zM11 5L8 2H1v12h10V5z"></path></svg>
            <img class="spinner" alt="" src="octocat-spinner-32.gif" width="16" height="16">
          </td>
          <td class="content">
            <span class="css-truncate css-truncate-target"><a class="js-navigation-open" title="util.go" id="3f1ad41879763caf285707f64678af17-952cad44c6312173cb9f97481ba4c613a2f24e0f" href="https://github.com/spf13/viper/blob/master/util.go">util.go</a></span>
          </td>
          <td class="message">
            <span class="css-truncate css-truncate-target">
                  <a data-pjax="true" title="Feature/write config (#287)

* Added method to write into TOML file.

* Added functionality to export configuration based on config type. The feature supports JSON and TOML.

* Added method to write into YAML file.

* Fixed the issue of incorrect defer and error checking order. The error checking must be first otherwise it will cause panic.

* Add WriteConfig methods

* Add support for toml

* Add shared write function and safe methods

* Fix incorrectly modified imports

* Remove extra comments

* Fix spelling

* Make marshal spelling consistent throughout

* Add support for remaining configuration types

This commit moves a significant portion of the code back to viper.go to
facilitate having access to the object when reading the files. The purpose is to
add properties to the viper object at read time, so that we can add the comments
back to the file when writing.

* Add tests for each written file type

* Modify test for updated HCL specification

* Modify to only support HCL write in Go 1.7

* Revert &quot;Modify to only support HCL write in Go 1.7&quot;

This reverts commit 12b34bc4eb92cbf8ebfd56b79519f448607e3e51.

* Need to truncate the file before writing

* Write all settings including overrides

* Use filename variable

* Lint remote.go

* Fix toml return count error" class="message" href="https://github.com/spf13/viper/commit/1a0c4a370c3e8286b835467d2dfcdaf636c3538b">Feature/write config (</a><a href="https://github.com/spf13/viper/pull/287" class="issue-link js-issue-link" data-error-text="Failed to load issue title" data-id="194490828" data-permission-text="Issue title is private" data-url="https://github.com/spf13/viper/issues/287">#287</a><a data-pjax="true" title="Feature/write config (#287)

* Added method to write into TOML file.

* Added functionality to export configuration based on config type. The feature supports JSON and TOML.

* Added method to write into YAML file.

* Fixed the issue of incorrect defer and error checking order. The error checking must be first otherwise it will cause panic.

* Add WriteConfig methods

* Add support for toml

* Add shared write function and safe methods

* Fix incorrectly modified imports

* Remove extra comments

* Fix spelling

* Make marshal spelling consistent throughout

* Add support for remaining configuration types

This commit moves a significant portion of the code back to viper.go to
facilitate having access to the object when reading the files. The purpose is to
add properties to the viper object at read time, so that we can add the comments
back to the file when writing.

* Add tests for each written file type

* Modify test for updated HCL specification

* Modify to only support HCL write in Go 1.7

* Revert &quot;Modify to only support HCL write in Go 1.7&quot;

This reverts commit 12b34bc4eb92cbf8ebfd56b79519f448607e3e51.

* Need to truncate the file before writing

* Write all settings including overrides

* Use filename variable

* Lint remote.go

* Fix toml return count error" class="message" href="https://github.com/spf13/viper/commit/1a0c4a370c3e8286b835467d2dfcdaf636c3538b">)</a>
            </span>
          </td>
          <td class="age">
            <span class="css-truncate css-truncate-target"><time-ago datetime="2017-12-07T04:26:31Z">Dec 6, 2017</time-ago></span>
          </td>
        </tr>
        <tr class="js-navigation-item">
          <td class="icon">
            <svg class="octicon octicon-file" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M6 5H2V4h4v1zM2 8h7V7H2v1zm0 2h7V9H2v1zm0 2h7v-1H2v1zm10-7.5V14c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V2c0-.55.45-1 1-1h7.5L12 4.5zM11 5L8 2H1v12h10V5z"></path></svg>
            <img class="spinner" alt="" src="octocat-spinner-32.gif" width="16" height="16">
          </td>
          <td class="content">
            <span class="css-truncate css-truncate-target"><a class="js-navigation-open" title="util_test.go" id="b3c5c04e75ab552bbf256d8b63e42499-0af80bb635b741d58afd4b39b5f393ee1b0ac6b4" href="https://github.com/spf13/viper/blob/master/util_test.go">util_test.go</a></span>
          </td>
          <td class="message">
            <span class="css-truncate css-truncate-target">
                  <a data-pjax="true" title="Run gofmt on all existing code

Also:

* Add check to .travis.yml that verifies that all code is gofmt-compliant
* Touch up some newlines

See #351" class="message" href="https://github.com/spf13/viper/commit/8ac2e2e20f3d24e5b3b85ae0fcd11bdb0caf0f15">Run gofmt on all existing code</a>
            </span>
          </td>
          <td class="age">
            <span class="css-truncate css-truncate-target"><time-ago datetime="2017-07-23T05:47:47Z">Jul 23, 2017</time-ago></span>
          </td>
        </tr>
        <tr class="js-navigation-item">
          <td class="icon">
            <svg class="octicon octicon-file" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M6 5H2V4h4v1zM2 8h7V7H2v1zm0 2h7V9H2v1zm0 2h7v-1H2v1zm10-7.5V14c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V2c0-.55.45-1 1-1h7.5L12 4.5zM11 5L8 2H1v12h10V5z"></path></svg>
            <img class="spinner" alt="" src="octocat-spinner-32.gif" width="16" height="16">
          </td>
          <td class="content">
            <span class="css-truncate css-truncate-target"><a class="js-navigation-open" title="viper.go" id="38f1012180f40493dcf780c312a40ec3-e9966ba58c27c16fb5184f92ed46a2ffe7daa609" href="https://github.com/spf13/viper/blob/master/viper.go">viper.go</a></span>
          </td>
          <td class="message">
            <span class="css-truncate css-truncate-target">
                  <a data-pjax="true" title="Undexport GetConfigFile

It was exported in previous commit, but we have GetConfigFileUsed -- so use that." class="message" href="https://github.com/spf13/viper/commit/b5e8006cbee93ec955a89ab31e0e3ce3204f3736">Undexport GetConfigFile</a>
            </span>
          </td>
          <td class="age">
            <span class="css-truncate css-truncate-target"><time-ago datetime="2018-03-19T18:50:19Z">Mar 19, 2018</time-ago></span>
          </td>
        </tr>
        <tr class="js-navigation-item">
          <td class="icon">
            <svg class="octicon octicon-file" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M6 5H2V4h4v1zM2 8h7V7H2v1zm0 2h7V9H2v1zm0 2h7v-1H2v1zm10-7.5V14c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V2c0-.55.45-1 1-1h7.5L12 4.5zM11 5L8 2H1v12h10V5z"></path></svg>
            <img class="spinner" alt="" src="octocat-spinner-32.gif" width="16" height="16">
          </td>
          <td class="content">
            <span class="css-truncate css-truncate-target"><a class="js-navigation-open" title="viper_test.go" id="db3e9f98aa59a770129eb45f83357512-c93480eabd8e5175e4ad48bafe5bc6dab4f4c582" href="https://github.com/spf13/viper/blob/master/viper_test.go">viper_test.go</a></span>
          </td>
          <td class="message">
            <span class="css-truncate css-truncate-target">
                  <a data-pjax="true" title="Undexport GetConfigFile

It was exported in previous commit, but we have GetConfigFileUsed -- so use that." class="message" href="https://github.com/spf13/viper/commit/b5e8006cbee93ec955a89ab31e0e3ce3204f3736">Undexport GetConfigFile</a>
            </span>
          </td>
          <td class="age">
            <span class="css-truncate css-truncate-target"><time-ago datetime="2018-03-19T18:50:19Z">Mar 19, 2018</time-ago></span>
          </td>
        </tr>
    </tbody>
  </table>

</div>



  <div id="readme" class="readme boxed-group clearfix announce instapaper_body md">
    <h3>
      <svg class="octicon octicon-book" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M3 5h4v1H3V5zm0 3h4V7H3v1zm0 2h4V9H3v1zm11-5h-4v1h4V5zm0 2h-4v1h4V7zm0 2h-4v1h4V9zm2-6v9c0 .55-.45 1-1 1H9.5l-1 1-1-1H2c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1h5.5l1 1 1-1H15c.55 0 1 .45 1 1zm-8 .5L7.5 3H2v9h6V3.5zm7-.5H9.5l-.5.5V12h6V3z"></path></svg>
      README.md
    </h3>

      <article class="markdown-body entry-content" itemprop="text"><p><a href="https://cloud.githubusercontent.com/assets/173412/10886745/998df88a-8151-11e5-9448-4736db51020d.png" target="_blank"><img src="998df88a-8151-11e5-9448-4736db51020d.png" alt="viper logo" style="max-width:100%;"></a></p>
<p>Go configuration with fangs!</p>
<p>Many Go projects are built using Viper including:</p>
<ul>
<li><a href="http://gohugo.io/" rel="nofollow">Hugo</a></li>
<li><a href="http://rexray.readthedocs.org/en/stable/" rel="nofollow">EMC RexRay</a></li>
<li><a href="https://github.com/Imgur/incus">Imgur’s Incus</a></li>
<li><a href="https://github.com/nanobox-io/nanobox">Nanobox</a>/<a href="https://github.com/nanopack">Nanopack</a></li>
<li><a href="https://github.com/docker/Notary">Docker Notary</a></li>
<li><a href="https://www.bloomapi.com/" rel="nofollow">BloomApi</a></li>
<li><a href="https://github.com/digitalocean/doctl">doctl</a></li>
<li><a href="https://github.com/jgsqware/clairctl">Clairctl</a></li>
</ul>
<p><a href="https://travis-ci.org/spf13/viper" rel="nofollow"><img src="68747470733a2f2f7472617669732d63692e6f72672f73706631332f7669.svg" alt="Build Status" data-canonical-src="https://travis-ci.org/spf13/viper.svg" style="max-width:100%;"></a> <a href="https://gitter.im/spf13/viper?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge" rel="nofollow"><img src="68747470733a2f2f6261646765732e6769747465722e696d2f4a6f696e25.svg" alt="Join the chat at https://gitter.im/spf13/viper" data-canonical-src="https://badges.gitter.im/Join%20Chat.svg" style="max-width:100%;"></a> <a href="https://godoc.org/github.com/spf13/viper" rel="nofollow"><img src="68747470733a2f2f676f646f632e6f72672f6769746875622e636f6d2f73.svg" alt="GoDoc" data-canonical-src="https://godoc.org/github.com/spf13/viper?status.svg" style="max-width:100%;"></a></p>
<h2><a href="#what-is-viper" aria-hidden="true" class="anchor" id="user-content-what-is-viper"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>What is Viper?</h2>
<p>Viper is a complete configuration solution for Go applications including 12-Factor apps. It is designed
to work within an application, and can handle all types of configuration needs
and formats. It supports:</p>
<ul>
<li>setting defaults</li>
<li>reading from JSON, TOML, YAML, HCL, and Java properties config files</li>
<li>live watching and re-reading of config files (optional)</li>
<li>reading from environment variables</li>
<li>reading from remote config systems (etcd or Consul), and watching changes</li>
<li>reading from command line flags</li>
<li>reading from buffer</li>
<li>setting explicit values</li>
</ul>
<p>Viper can be thought of as a registry for all of your applications
configuration needs.</p>
<h2><a href="#why-viper" aria-hidden="true" class="anchor" id="user-content-why-viper"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Why Viper?</h2>
<p>When building a modern application, you don’t want to worry about
configuration file formats; you want to focus on building awesome software.
Viper is here to help with that.</p>
<p>Viper does the following for you:</p>
<ol>
<li>Find, load, and unmarshal a configuration file in JSON, TOML, YAML, HCL, or Java properties formats.</li>
<li>Provide a mechanism to set default values for your different
configuration options.</li>
<li>Provide a mechanism to set override values for options specified through
command line flags.</li>
<li>Provide an alias system to easily rename parameters without breaking existing
code.</li>
<li>Make it easy to tell the difference between when a user has provided a
command line or config file which is the same as the default.</li>
</ol>
<p>Viper uses the following precedence order. Each item takes precedence over the
item below it:</p>
<ul>
<li>explicit call to Set</li>
<li>flag</li>
<li>env</li>
<li>config</li>
<li>key/value store</li>
<li>default</li>
</ul>
<p>Viper configuration keys are case insensitive.</p>
<h2><a href="#putting-values-into-viper" aria-hidden="true" class="anchor" id="user-content-putting-values-into-viper"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Putting Values into Viper</h2>
<h3><a href="#establishing-defaults" aria-hidden="true" class="anchor" id="user-content-establishing-defaults"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Establishing Defaults</h3>
<p>A good configuration system will support default values. A default value is not
required for a key, but it’s useful in the event that a key hasn’t been set via
config file, environment variable, remote configuration or flag.</p>
<p>Examples:</p>
<div class="highlight highlight-source-go"><pre>viper.<span class="pl-c1">SetDefault</span>(<span class="pl-s"><span class="pl-pds">"</span>ContentDir<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>content<span class="pl-pds">"</span></span>)
viper.<span class="pl-c1">SetDefault</span>(<span class="pl-s"><span class="pl-pds">"</span>LayoutDir<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>layouts<span class="pl-pds">"</span></span>)
viper.<span class="pl-c1">SetDefault</span>(<span class="pl-s"><span class="pl-pds">"</span>Taxonomies<span class="pl-pds">"</span></span>, <span class="pl-k">map</span>[<span class="pl-k">string</span>]<span class="pl-k">string</span>{<span class="pl-s"><span class="pl-pds">"</span>tag<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>tags<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>category<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>categories<span class="pl-pds">"</span></span>})</pre></div>
<h3><a href="#reading-config-files" aria-hidden="true" class="anchor" id="user-content-reading-config-files"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Reading Config Files</h3>
<p>Viper requires minimal configuration so it knows where to look for config files.
Viper supports JSON, TOML, YAML, HCL, and Java Properties files. Viper can search multiple paths, but
currently a single Viper instance only supports a single configuration file.
Viper does not default to any configuration search paths leaving defaults decision
to an application.</p>
<p>Here is an example of how to use Viper to search for and read a configuration file.
None of the specific paths are required, but at least one path should be provided
where a configuration file is expected.</p>
<div class="highlight highlight-source-go"><pre>viper.<span class="pl-c1">SetConfigName</span>(<span class="pl-s"><span class="pl-pds">"</span>config<span class="pl-pds">"</span></span>) <span class="pl-c"><span class="pl-c">//</span> name of config file (without extension)</span>
viper.<span class="pl-c1">AddConfigPath</span>(<span class="pl-s"><span class="pl-pds">"</span>/etc/appname/<span class="pl-pds">"</span></span>)   <span class="pl-c"><span class="pl-c">//</span> path to look for the config file in</span>
viper.<span class="pl-c1">AddConfigPath</span>(<span class="pl-s"><span class="pl-pds">"</span>$HOME/.appname<span class="pl-pds">"</span></span>)  <span class="pl-c"><span class="pl-c">//</span> call multiple times to add many search paths</span>
viper.<span class="pl-c1">AddConfigPath</span>(<span class="pl-s"><span class="pl-pds">"</span>.<span class="pl-pds">"</span></span>)               <span class="pl-c"><span class="pl-c">//</span> optionally look for config in the working directory</span>
<span class="pl-smi">err</span> <span class="pl-k">:=</span> viper.<span class="pl-c1">ReadInConfig</span>() <span class="pl-c"><span class="pl-c">//</span> Find and read the config file</span>
<span class="pl-k">if</span> err != <span class="pl-c1">nil</span> { <span class="pl-c"><span class="pl-c">//</span> Handle errors reading the config file</span>
	<span class="pl-c1">panic</span>(fmt.<span class="pl-c1">Errorf</span>(<span class="pl-s"><span class="pl-pds">"</span>Fatal error config file: <span class="pl-c1">%s</span> <span class="pl-cce">\n</span><span class="pl-pds">"</span></span>, err))
}</pre></div>
<h3><a href="#watching-and-re-reading-config-files" aria-hidden="true" class="anchor" id="user-content-watching-and-re-reading-config-files"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Watching and re-reading config files</h3>
<p>Viper supports the ability to have your application live read a config file while running.</p>
<p>Gone are the days of needing to restart a server to have a config take effect,
viper powered applications can read an update to a config file while running and
not miss a beat.</p>
<p>Simply tell the viper instance to watchConfig.
Optionally you can provide a function for Viper to run each time a change occurs.</p>
<p><strong>Make sure you add all of the configPaths prior to calling <code>WatchConfig()</code></strong></p>
<div class="highlight highlight-source-go"><pre>viper.<span class="pl-c1">WatchConfig</span>()
viper.<span class="pl-c1">OnConfigChange</span>(<span class="pl-k">func</span>(e fsnotify.<span class="pl-smi">Event</span>) {
	fmt.<span class="pl-c1">Println</span>(<span class="pl-s"><span class="pl-pds">"</span>Config file changed:<span class="pl-pds">"</span></span>, e.<span class="pl-smi">Name</span>)
})</pre></div>
<h3><a href="#reading-config-from-ioreader" aria-hidden="true" class="anchor" id="user-content-reading-config-from-ioreader"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Reading Config from io.Reader</h3>
<p>Viper predefines many configuration sources such as files, environment
variables, flags, and remote K/V store, but you are not bound to them. You can
also implement your own required configuration source and feed it to viper.</p>
<div class="highlight highlight-source-go"><pre>viper.<span class="pl-c1">SetConfigType</span>(<span class="pl-s"><span class="pl-pds">"</span>yaml<span class="pl-pds">"</span></span>) <span class="pl-c"><span class="pl-c">//</span> or viper.SetConfigType("YAML")</span>

<span class="pl-c"><span class="pl-c">//</span> any approach to require this configuration into your program.</span>
<span class="pl-k">var</span> <span class="pl-smi">yamlExample</span> = []<span class="pl-k">byte</span>(<span class="pl-s"><span class="pl-pds">`</span></span>
<span class="pl-s">Hacker: true</span>
<span class="pl-s">name: steve</span>
<span class="pl-s">hobbies:</span>
<span class="pl-s">- skateboarding</span>
<span class="pl-s">- snowboarding</span>
<span class="pl-s">- go</span>
<span class="pl-s">clothing:</span>
<span class="pl-s">  jacket: leather</span>
<span class="pl-s">  trousers: denim</span>
<span class="pl-s">age: 35</span>
<span class="pl-s">eyes : brown</span>
<span class="pl-s">beard: true</span>
<span class="pl-s"><span class="pl-pds">`</span></span>)

viper.<span class="pl-c1">ReadConfig</span>(bytes.<span class="pl-c1">NewBuffer</span>(yamlExample))

viper.<span class="pl-c1">Get</span>(<span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span>) <span class="pl-c"><span class="pl-c">//</span> this would be "steve"</span></pre></div>
<h3><a href="#setting-overrides" aria-hidden="true" class="anchor" id="user-content-setting-overrides"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Setting Overrides</h3>
<p>These could be from a command line flag, or from your own application logic.</p>
<div class="highlight highlight-source-go"><pre>viper.<span class="pl-c1">Set</span>(<span class="pl-s"><span class="pl-pds">"</span>Verbose<span class="pl-pds">"</span></span>, <span class="pl-c1">true</span>)
viper.<span class="pl-c1">Set</span>(<span class="pl-s"><span class="pl-pds">"</span>LogFile<span class="pl-pds">"</span></span>, <span class="pl-v">LogFile</span>)</pre></div>
<h3><a href="#registering-and-using-aliases" aria-hidden="true" class="anchor" id="user-content-registering-and-using-aliases"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Registering and Using Aliases</h3>
<p>Aliases permit a single value to be referenced by multiple keys</p>
<div class="highlight highlight-source-go"><pre>viper.<span class="pl-c1">RegisterAlias</span>(<span class="pl-s"><span class="pl-pds">"</span>loud<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Verbose<span class="pl-pds">"</span></span>)

viper.<span class="pl-c1">Set</span>(<span class="pl-s"><span class="pl-pds">"</span>verbose<span class="pl-pds">"</span></span>, <span class="pl-c1">true</span>) <span class="pl-c"><span class="pl-c">//</span> same result as next line</span>
viper.<span class="pl-c1">Set</span>(<span class="pl-s"><span class="pl-pds">"</span>loud<span class="pl-pds">"</span></span>, <span class="pl-c1">true</span>)   <span class="pl-c"><span class="pl-c">//</span> same result as prior line</span>

viper.<span class="pl-c1">GetBool</span>(<span class="pl-s"><span class="pl-pds">"</span>loud<span class="pl-pds">"</span></span>) <span class="pl-c"><span class="pl-c">//</span> true</span>
viper.<span class="pl-c1">GetBool</span>(<span class="pl-s"><span class="pl-pds">"</span>verbose<span class="pl-pds">"</span></span>) <span class="pl-c"><span class="pl-c">//</span> true</span></pre></div>
<h3><a href="#working-with-environment-variables" aria-hidden="true" class="anchor" id="user-content-working-with-environment-variables"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Working with Environment Variables</h3>
<p>Viper has full support for environment variables. This enables 12 factor
applications out of the box. There are four methods that exist to aid working
with ENV:</p>
<ul>
<li><code>AutomaticEnv()</code></li>
<li><code>BindEnv(string...) : error</code></li>
<li><code>SetEnvPrefix(string)</code></li>
<li><code>SetEnvKeyReplacer(string...) *strings.Replacer</code></li>
</ul>
<p><em>When working with ENV variables, it’s important to recognize that Viper
treats ENV variables as case sensitive.</em></p>
<p>Viper provides a mechanism to try to ensure that ENV variables are unique. By
using <code>SetEnvPrefix</code>, you can tell Viper to use add a prefix while reading from
the environment variables. Both <code>BindEnv</code> and <code>AutomaticEnv</code> will use this
prefix.</p>
<p><code>BindEnv</code> takes one or two parameters. The first parameter is the key name, the
second is the name of the environment variable. The name of the environment
variable is case sensitive. If the ENV variable name is not provided, then
Viper will automatically assume that the key name matches the ENV variable name,
but the ENV variable is IN ALL CAPS. When you explicitly provide the ENV
variable name, it <strong>does not</strong> automatically add the prefix.</p>
<p>One important thing to recognize when working with ENV variables is that the
value will be read each time it is accessed. Viper does not fix the value when
the <code>BindEnv</code> is called.</p>
<p><code>AutomaticEnv</code> is a powerful helper especially when combined with
<code>SetEnvPrefix</code>. When called, Viper will check for an environment variable any
time a <code>viper.Get</code> request is made. It will apply the following rules. It will
check for a environment variable with a name matching the key uppercased and
prefixed with the <code>EnvPrefix</code> if set.</p>
<p><code>SetEnvKeyReplacer</code> allows you to use a <code>strings.Replacer</code> object to rewrite Env
keys to an extent. This is useful if you want to use <code>-</code> or something in your
<code>Get()</code> calls, but want your environmental variables to use <code>_</code> delimiters. An
example of using it can be found in <code>viper_test.go</code>.</p>
<h4><a href="#env-example" aria-hidden="true" class="anchor" id="user-content-env-example"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Env example</h4>
<div class="highlight highlight-source-go"><pre><span class="pl-c1">SetEnvPrefix</span>(<span class="pl-s"><span class="pl-pds">"</span>spf<span class="pl-pds">"</span></span>) <span class="pl-c"><span class="pl-c">//</span> will be uppercased automatically</span>
<span class="pl-c1">BindEnv</span>(<span class="pl-s"><span class="pl-pds">"</span>id<span class="pl-pds">"</span></span>)

os.<span class="pl-c1">Setenv</span>(<span class="pl-s"><span class="pl-pds">"</span>SPF_ID<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>13<span class="pl-pds">"</span></span>) <span class="pl-c"><span class="pl-c">//</span> typically done outside of the app</span>

<span class="pl-smi">id</span> <span class="pl-k">:=</span> <span class="pl-c1">Get</span>(<span class="pl-s"><span class="pl-pds">"</span>id<span class="pl-pds">"</span></span>) <span class="pl-c"><span class="pl-c">//</span> 13</span></pre></div>
<h3><a href="#working-with-flags" aria-hidden="true" class="anchor" id="user-content-working-with-flags"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Working with Flags</h3>
<p>Viper has the ability to bind to flags. Specifically, Viper supports <code>Pflags</code>
as used in the <a href="https://github.com/spf13/cobra">Cobra</a> library.</p>
<p>Like <code>BindEnv</code>, the value is not set when the binding method is called, but when
it is accessed. This means you can bind as early as you want, even in an
<code>init()</code> function.</p>
<p>For individual flags, the <code>BindPFlag()</code> method provides this functionality.</p>
<p>Example:</p>
<div class="highlight highlight-source-go"><pre>serverCmd.<span class="pl-c1">Flags</span>().<span class="pl-c1">Int</span>(<span class="pl-s"><span class="pl-pds">"</span>port<span class="pl-pds">"</span></span>, <span class="pl-c1">1138</span>, <span class="pl-s"><span class="pl-pds">"</span>Port to run Application server on<span class="pl-pds">"</span></span>)
viper.<span class="pl-c1">BindPFlag</span>(<span class="pl-s"><span class="pl-pds">"</span>port<span class="pl-pds">"</span></span>, serverCmd.<span class="pl-c1">Flags</span>().<span class="pl-c1">Lookup</span>(<span class="pl-s"><span class="pl-pds">"</span>port<span class="pl-pds">"</span></span>))</pre></div>
<p>You can also bind an existing set of pflags (pflag.FlagSet):</p>
<p>Example:</p>
<div class="highlight highlight-source-go"><pre>pflag.<span class="pl-c1">Int</span>(<span class="pl-s"><span class="pl-pds">"</span>flagname<span class="pl-pds">"</span></span>, <span class="pl-c1">1234</span>, <span class="pl-s"><span class="pl-pds">"</span>help message for flagname<span class="pl-pds">"</span></span>)

pflag.<span class="pl-c1">Parse</span>()
viper.<span class="pl-c1">BindPFlags</span>(pflag.<span class="pl-smi">CommandLine</span>)

<span class="pl-smi">i</span> <span class="pl-k">:=</span> viper.<span class="pl-c1">GetInt</span>(<span class="pl-s"><span class="pl-pds">"</span>flagname<span class="pl-pds">"</span></span>) <span class="pl-c"><span class="pl-c">//</span> retrieve values from viper instead of pflag</span></pre></div>
<p>The use of <a href="https://github.com/spf13/pflag/">pflag</a> in Viper does not preclude
the use of other packages that use the <a href="https://golang.org/pkg/flag/" rel="nofollow">flag</a>
package from the standard library. The pflag package can handle the flags
defined for the flag package by importing these flags. This is accomplished
by a calling a convenience function provided by the pflag package called
AddGoFlagSet().</p>
<p>Example:</p>
<div class="highlight highlight-source-go"><pre><span class="pl-k">package</span> main

<span class="pl-k">import</span> (
	<span class="pl-s"><span class="pl-pds">"</span>flag<span class="pl-pds">"</span></span>
	<span class="pl-s"><span class="pl-pds">"</span>github.com/spf13/pflag<span class="pl-pds">"</span></span>
)

<span class="pl-k">func</span> <span class="pl-en">main</span>() {

	<span class="pl-c"><span class="pl-c">//</span> using standard library "flag" package</span>
	flag.<span class="pl-c1">Int</span>(<span class="pl-s"><span class="pl-pds">"</span>flagname<span class="pl-pds">"</span></span>, <span class="pl-c1">1234</span>, <span class="pl-s"><span class="pl-pds">"</span>help message for flagname<span class="pl-pds">"</span></span>)

	pflag.<span class="pl-smi">CommandLine</span>.<span class="pl-c1">AddGoFlagSet</span>(flag.<span class="pl-smi">CommandLine</span>)
	pflag.<span class="pl-c1">Parse</span>()
	viper.<span class="pl-c1">BindPFlags</span>(pflag.<span class="pl-smi">CommandLine</span>)

	<span class="pl-smi">i</span> <span class="pl-k">:=</span> viper.<span class="pl-c1">GetInt</span>(<span class="pl-s"><span class="pl-pds">"</span>flagname<span class="pl-pds">"</span></span>) <span class="pl-c"><span class="pl-c">//</span> retrieve value from viper</span>

	...
}</pre></div>
<h4><a href="#flag-interfaces" aria-hidden="true" class="anchor" id="user-content-flag-interfaces"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Flag interfaces</h4>
<p>Viper provides two Go interfaces to bind other flag systems if you don’t use <code>Pflags</code>.</p>
<p><code>FlagValue</code> represents a single flag. This is a very simple example on how to implement this interface:</p>
<div class="highlight highlight-source-go"><pre><span class="pl-k">type</span> myFlag <span class="pl-k">struct</span> {}
<span class="pl-k">func</span> <span class="pl-en">(<span class="pl-v">f</span> <span class="pl-v">myFlag</span>) <span class="pl-en">HasChanged</span></span>() <span class="pl-v">bool</span> { <span class="pl-k">return</span> <span class="pl-c1">false</span> }
<span class="pl-k">func</span> <span class="pl-en">(<span class="pl-v">f</span> <span class="pl-v">myFlag</span>) <span class="pl-en">Name</span></span>() <span class="pl-v">string</span> { <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">"</span>my-flag-name<span class="pl-pds">"</span></span> }
<span class="pl-k">func</span> <span class="pl-en">(<span class="pl-v">f</span> <span class="pl-v">myFlag</span>) <span class="pl-en">ValueString</span></span>() <span class="pl-v">string</span> { <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">"</span>my-flag-value<span class="pl-pds">"</span></span> }
<span class="pl-k">func</span> <span class="pl-en">(<span class="pl-v">f</span> <span class="pl-v">myFlag</span>) <span class="pl-en">ValueType</span></span>() <span class="pl-v">string</span> { <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">"</span>string<span class="pl-pds">"</span></span> }</pre></div>
<p>Once your flag implements this interface, you can simply tell Viper to bind it:</p>
<div class="highlight highlight-source-go"><pre>viper.<span class="pl-c1">BindFlagValue</span>(<span class="pl-s"><span class="pl-pds">"</span>my-flag-name<span class="pl-pds">"</span></span>, myFlag{})</pre></div>
<p><code>FlagValueSet</code> represents a group of flags. This is a very simple example on how to implement this interface:</p>
<div class="highlight highlight-source-go"><pre><span class="pl-k">type</span> myFlagSet <span class="pl-k">struct</span> {
	flags []myFlag
}

<span class="pl-k">func</span> (<span class="pl-v">f</span> <span class="pl-v">myFlagSet</span>) <span class="pl-v">VisitAll</span>(fn func(FlagValue)) {
	<span class="pl-k">for</span> <span class="pl-smi">_</span>, <span class="pl-smi">flag</span> <span class="pl-k">:=</span> <span class="pl-k">range</span> flags {
		<span class="pl-c1">fn</span>(flag)
	}
}</pre></div>
<p>Once your flag set implements this interface, you can simply tell Viper to bind it:</p>
<div class="highlight highlight-source-go"><pre><span class="pl-smi">fSet</span> <span class="pl-k">:=</span> myFlagSet{
	flags: []myFlag{myFlag{}, myFlag{}},
}
viper.<span class="pl-c1">BindFlagValues</span>(<span class="pl-s"><span class="pl-pds">"</span>my-flags<span class="pl-pds">"</span></span>, fSet)</pre></div>
<h3><a href="#remote-keyvalue-store-support" aria-hidden="true" class="anchor" id="user-content-remote-keyvalue-store-support"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Remote Key/Value Store Support</h3>
<p>To enable remote support in Viper, do a blank import of the <code>viper/remote</code>
package:</p>
<p><code>import _ "github.com/spf13/viper/remote"</code></p>
<p>Viper will read a config string (as JSON, TOML, YAML or HCL) retrieved from a path
in a Key/Value store such as etcd or Consul.  These values take precedence over
default values, but are overridden by configuration values retrieved from disk,
flags, or environment variables.</p>
<p>Viper uses <a href="https://github.com/xordataexchange/crypt">crypt</a> to retrieve
configuration from the K/V store, which means that you can store your
configuration values encrypted and have them automatically decrypted if you have
the correct gpg keyring.  Encryption is optional.</p>
<p>You can use remote configuration in conjunction with local configuration, or
independently of it.</p>
<p><code>crypt</code> has a command-line helper that you can use to put configurations in your
K/V store. <code>crypt</code> defaults to etcd on <a href="http://127.0.0.1:4001/" rel="nofollow">http://127.0.0.1:4001</a>.</p>
<div class="highlight highlight-source-shell"><pre>$ go get github.com/xordataexchange/crypt/bin/crypt
$ crypt <span class="pl-c1">set</span> -plaintext /config/hugo.json /Users/hugo/settings/config.json</pre></div>
<p>Confirm that your value was set:</p>
<div class="highlight highlight-source-shell"><pre>$ crypt get -plaintext /config/hugo.json</pre></div>
<p>See the <code>crypt</code> documentation for examples of how to set encrypted values, or
how to use Consul.</p>
<h3><a href="#remote-keyvalue-store-example---unencrypted" aria-hidden="true" class="anchor" id="user-content-remote-keyvalue-store-example---unencrypted"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Remote Key/Value Store Example - Unencrypted</h3>
<div class="highlight highlight-source-go"><pre>viper.<span class="pl-c1">AddRemoteProvider</span>(<span class="pl-s"><span class="pl-pds">"</span>etcd<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>http://127.0.0.1:4001<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>/config/hugo.json<span class="pl-pds">"</span></span>)
viper.<span class="pl-c1">SetConfigType</span>(<span class="pl-s"><span class="pl-pds">"</span>json<span class="pl-pds">"</span></span>) <span class="pl-c"><span class="pl-c">//</span> because there is no file extension in a stream of bytes, supported extensions are "json", "toml", "yaml", "yml", "properties", "props", "prop"</span>
<span class="pl-smi">err</span> <span class="pl-k">:=</span> viper.<span class="pl-c1">ReadRemoteConfig</span>()</pre></div>
<h3><a href="#remote-keyvalue-store-example---encrypted" aria-hidden="true" class="anchor" id="user-content-remote-keyvalue-store-example---encrypted"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Remote Key/Value Store Example - Encrypted</h3>
<div class="highlight highlight-source-go"><pre>viper.<span class="pl-c1">AddSecureRemoteProvider</span>(<span class="pl-s"><span class="pl-pds">"</span>etcd<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>http://127.0.0.1:4001<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>/config/hugo.json<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>/etc/secrets/mykeyring.gpg<span class="pl-pds">"</span></span>)
viper.<span class="pl-c1">SetConfigType</span>(<span class="pl-s"><span class="pl-pds">"</span>json<span class="pl-pds">"</span></span>) <span class="pl-c"><span class="pl-c">//</span> because there is no file extension in a stream of bytes,  supported extensions are "json", "toml", "yaml", "yml", "properties", "props", "prop"</span>
<span class="pl-smi">err</span> <span class="pl-k">:=</span> viper.<span class="pl-c1">ReadRemoteConfig</span>()</pre></div>
<h3><a href="#watching-changes-in-etcd---unencrypted" aria-hidden="true" class="anchor" id="user-content-watching-changes-in-etcd---unencrypted"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Watching Changes in etcd - Unencrypted</h3>
<div class="highlight highlight-source-go"><pre><span class="pl-c"><span class="pl-c">//</span> alternatively, you can create a new viper instance.</span>
<span class="pl-k">var</span> <span class="pl-smi">runtime_viper</span> = viper.<span class="pl-c1">New</span>()

runtime_viper.<span class="pl-c1">AddRemoteProvider</span>(<span class="pl-s"><span class="pl-pds">"</span>etcd<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>http://127.0.0.1:4001<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>/config/hugo.yml<span class="pl-pds">"</span></span>)
runtime_viper.<span class="pl-c1">SetConfigType</span>(<span class="pl-s"><span class="pl-pds">"</span>yaml<span class="pl-pds">"</span></span>) <span class="pl-c"><span class="pl-c">//</span> because there is no file extension in a stream of bytes, supported extensions are "json", "toml", "yaml", "yml", "properties", "props", "prop"</span>

<span class="pl-c"><span class="pl-c">//</span> read from remote config the first time.</span>
<span class="pl-smi">err</span> <span class="pl-k">:=</span> runtime_viper.<span class="pl-c1">ReadRemoteConfig</span>()

<span class="pl-c"><span class="pl-c">//</span> unmarshal config</span>
runtime_viper.<span class="pl-c1">Unmarshal</span>(&amp;runtime_conf)

<span class="pl-c"><span class="pl-c">//</span> open a goroutine to watch remote changes forever</span>
<span class="pl-k">go</span> <span class="pl-k">func</span>(){
	<span class="pl-k">for</span> {
	    time.<span class="pl-c1">Sleep</span>(time.<span class="pl-smi">Second</span> * <span class="pl-c1">5</span>) <span class="pl-c"><span class="pl-c">//</span> delay after each request</span>

	    <span class="pl-c"><span class="pl-c">//</span> currently, only tested with etcd support</span>
	    <span class="pl-smi">err</span> <span class="pl-k">:=</span> runtime_viper.<span class="pl-c1">WatchRemoteConfig</span>()
	    <span class="pl-k">if</span> err != <span class="pl-c1">nil</span> {
	        log.<span class="pl-c1">Errorf</span>(<span class="pl-s"><span class="pl-pds">"</span>unable to read remote config: <span class="pl-c1">%v</span><span class="pl-pds">"</span></span>, err)
	        <span class="pl-k">continue</span>
	    }

	    <span class="pl-c"><span class="pl-c">//</span> unmarshal new config into our runtime config struct. you can also use channel</span>
	    <span class="pl-c"><span class="pl-c">//</span> to implement a signal to notify the system of the changes</span>
	    runtime_viper.<span class="pl-c1">Unmarshal</span>(&amp;runtime_conf)
	}
}()</pre></div>
<h2><a href="#getting-values-from-viper" aria-hidden="true" class="anchor" id="user-content-getting-values-from-viper"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Getting Values From Viper</h2>
<p>In Viper, there are a few ways to get a value depending on the value’s type.
The following functions and methods exist:</p>
<ul>
<li><code>Get(key string) : interface{}</code></li>
<li><code>GetBool(key string) : bool</code></li>
<li><code>GetFloat64(key string) : float64</code></li>
<li><code>GetInt(key string) : int</code></li>
<li><code>GetString(key string) : string</code></li>
<li><code>GetStringMap(key string) : map[string]interface{}</code></li>
<li><code>GetStringMapString(key string) : map[string]string</code></li>
<li><code>GetStringSlice(key string) : []string</code></li>
<li><code>GetTime(key string) : time.Time</code></li>
<li><code>GetDuration(key string) : time.Duration</code></li>
<li><code>IsSet(key string) : bool</code></li>
</ul>
<p>One important thing to recognize is that each Get function will return a zero
value if it’s not found. To check if a given key exists, the <code>IsSet()</code> method
has been provided.</p>
<p>Example:</p>
<div class="highlight highlight-source-go"><pre>viper.<span class="pl-c1">GetString</span>(<span class="pl-s"><span class="pl-pds">"</span>logfile<span class="pl-pds">"</span></span>) <span class="pl-c"><span class="pl-c">//</span> case-insensitive Setting &amp; Getting</span>
<span class="pl-k">if</span> viper.<span class="pl-c1">GetBool</span>(<span class="pl-s"><span class="pl-pds">"</span>verbose<span class="pl-pds">"</span></span>) {
    fmt.<span class="pl-c1">Println</span>(<span class="pl-s"><span class="pl-pds">"</span>verbose enabled<span class="pl-pds">"</span></span>)
}</pre></div>
<h3><a href="#accessing-nested-keys" aria-hidden="true" class="anchor" id="user-content-accessing-nested-keys"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Accessing nested keys</h3>
<p>The accessor methods also accept formatted paths to deeply nested keys. For
example, if the following JSON file is loaded:</p>
<div class="highlight highlight-source-json"><pre>{
    <span class="pl-s"><span class="pl-pds">"</span>host<span class="pl-pds">"</span></span>: {
        <span class="pl-s"><span class="pl-pds">"</span>address<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>localhost<span class="pl-pds">"</span></span>,
        <span class="pl-s"><span class="pl-pds">"</span>port<span class="pl-pds">"</span></span>: <span class="pl-c1">5799</span>
    },
    <span class="pl-s"><span class="pl-pds">"</span>datastore<span class="pl-pds">"</span></span>: {
        <span class="pl-s"><span class="pl-pds">"</span>metric<span class="pl-pds">"</span></span>: {
            <span class="pl-s"><span class="pl-pds">"</span>host<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>127.0.0.1<span class="pl-pds">"</span></span>,
            <span class="pl-s"><span class="pl-pds">"</span>port<span class="pl-pds">"</span></span>: <span class="pl-c1">3099</span>
        },
        <span class="pl-s"><span class="pl-pds">"</span>warehouse<span class="pl-pds">"</span></span>: {
            <span class="pl-s"><span class="pl-pds">"</span>host<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>198.0.0.1<span class="pl-pds">"</span></span>,
            <span class="pl-s"><span class="pl-pds">"</span>port<span class="pl-pds">"</span></span>: <span class="pl-c1">2112</span>
        }
    }
}
</pre></div>
<p>Viper can access a nested field by passing a <code>.</code> delimited path of keys:</p>
<div class="highlight highlight-source-go"><pre><span class="pl-c1">GetString</span>(<span class="pl-s"><span class="pl-pds">"</span>datastore.metric.host<span class="pl-pds">"</span></span>) <span class="pl-c"><span class="pl-c">//</span> (returns "127.0.0.1")</span></pre></div>
<p>This obeys the precedence rules established above; the search for the path
will cascade through the remaining configuration registries until found.</p>
<p>For example, given this configuration file, both <code>datastore.metric.host</code> and
<code>datastore.metric.port</code> are already defined (and may be overridden). If in addition
<code>datastore.metric.protocol</code> was defined in the defaults, Viper would also find it.</p>
<p>However, if <code>datastore.metric</code> was overridden (by a flag, an environment variable,
the <code>Set()</code> method, …) with an immediate value, then all sub-keys of
<code>datastore.metric</code> become undefined, they are “shadowed” by the higher-priority
configuration level.</p>
<p>Lastly, if there exists a key that matches the delimited key path, its value
will be returned instead. E.g.</p>
<div class="highlight highlight-source-json"><pre>{
    <span class="pl-s"><span class="pl-pds">"</span>datastore.metric.host<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>0.0.0.0<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>host<span class="pl-pds">"</span></span>: {
        <span class="pl-s"><span class="pl-pds">"</span>address<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>localhost<span class="pl-pds">"</span></span>,
        <span class="pl-s"><span class="pl-pds">"</span>port<span class="pl-pds">"</span></span>: <span class="pl-c1">5799</span>
    },
    <span class="pl-s"><span class="pl-pds">"</span>datastore<span class="pl-pds">"</span></span>: {
        <span class="pl-s"><span class="pl-pds">"</span>metric<span class="pl-pds">"</span></span>: {
            <span class="pl-s"><span class="pl-pds">"</span>host<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>127.0.0.1<span class="pl-pds">"</span></span>,
            <span class="pl-s"><span class="pl-pds">"</span>port<span class="pl-pds">"</span></span>: <span class="pl-c1">3099</span>
        },
        <span class="pl-s"><span class="pl-pds">"</span>warehouse<span class="pl-pds">"</span></span>: {
            <span class="pl-s"><span class="pl-pds">"</span>host<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>198.0.0.1<span class="pl-pds">"</span></span>,
            <span class="pl-s"><span class="pl-pds">"</span>port<span class="pl-pds">"</span></span>: <span class="pl-c1">2112</span>
        }
    }
}

GetString(<span class="pl-s"><span class="pl-pds">"</span>datastore.metric.host<span class="pl-pds">"</span></span>) // returns <span class="pl-s"><span class="pl-pds">"</span>0.0.0.0<span class="pl-pds">"</span></span></pre></div>
<h3><a href="#extract-sub-tree" aria-hidden="true" class="anchor" id="user-content-extract-sub-tree"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Extract sub-tree</h3>
<p>Extract sub-tree from Viper.</p>
<p>For example, <code>viper</code> represents:</p>
<div class="highlight highlight-source-json"><pre>app:
  cache<span class="pl-c1">1</span>:
    max-items: <span class="pl-c1">100</span>
    item-size: <span class="pl-c1">64</span>
  cache<span class="pl-c1">2</span>:
    max-items: <span class="pl-c1">200</span>
    item-size: <span class="pl-c1">80</span></pre></div>
<p>After executing:</p>
<div class="highlight highlight-source-go"><pre><span class="pl-smi">subv</span> <span class="pl-k">:=</span> viper.<span class="pl-c1">Sub</span>(<span class="pl-s"><span class="pl-pds">"</span>app.cache1<span class="pl-pds">"</span></span>)</pre></div>
<p><code>subv</code> represents:</p>
<div class="highlight highlight-source-json"><pre>max-items: <span class="pl-c1">100</span>
item-size: <span class="pl-c1">64</span></pre></div>
<p>Suppose we have:</p>
<div class="highlight highlight-source-go"><pre><span class="pl-k">func</span> <span class="pl-en">NewCache</span>(<span class="pl-v">cfg</span> *<span class="pl-v">Viper</span>) *<span class="pl-v">Cache</span> {...}</pre></div>
<p>which creates a cache based on config information formatted as <code>subv</code>.
Now it’s easy to create these 2 caches separately as:</p>
<div class="highlight highlight-source-go"><pre><span class="pl-smi">cfg1</span> <span class="pl-k">:=</span> viper.<span class="pl-c1">Sub</span>(<span class="pl-s"><span class="pl-pds">"</span>app.cache1<span class="pl-pds">"</span></span>)
<span class="pl-smi">cache1</span> <span class="pl-k">:=</span> <span class="pl-c1">NewCache</span>(cfg1)

<span class="pl-smi">cfg2</span> <span class="pl-k">:=</span> viper.<span class="pl-c1">Sub</span>(<span class="pl-s"><span class="pl-pds">"</span>app.cache2<span class="pl-pds">"</span></span>)
<span class="pl-smi">cache2</span> <span class="pl-k">:=</span> <span class="pl-c1">NewCache</span>(cfg2)</pre></div>
<h3><a href="#unmarshaling" aria-hidden="true" class="anchor" id="user-content-unmarshaling"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Unmarshaling</h3>
<p>You also have the option of Unmarshaling all or a specific value to a struct, map,
etc.</p>
<p>There are two methods to do this:</p>
<ul>
<li><code>Unmarshal(rawVal interface{}) : error</code></li>
<li><code>UnmarshalKey(key string, rawVal interface{}) : error</code></li>
</ul>
<p>Example:</p>
<div class="highlight highlight-source-go"><pre><span class="pl-k">type</span> config <span class="pl-k">struct</span> {
	<span class="pl-v">Port</span> <span class="pl-k">int</span>
	<span class="pl-v">Name</span> <span class="pl-k">string</span>
	<span class="pl-v">PathMap</span> <span class="pl-k">string</span> <span class="pl-s"><span class="pl-pds">`</span>mapstructure:"path_map"<span class="pl-pds">`</span></span>
}

<span class="pl-k">var</span> <span class="pl-smi">C</span> config

<span class="pl-smi">err</span> <span class="pl-k">:=</span> <span class="pl-c1">Unmarshal</span>(&amp;C)
<span class="pl-k">if</span> err != <span class="pl-c1">nil</span> {
	t.<span class="pl-c1">Fatalf</span>(<span class="pl-s"><span class="pl-pds">"</span>unable to decode into struct, <span class="pl-c1">%v</span><span class="pl-pds">"</span></span>, err)
}</pre></div>
<h2><a href="#viper-or-vipers" aria-hidden="true" class="anchor" id="user-content-viper-or-vipers"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Viper or Vipers?</h2>
<p>Viper comes ready to use out of the box. There is no configuration or
initialization needed to begin using Viper. Since most applications will want
to use a single central repository for their configuration, the viper package
provides this. It is similar to a singleton.</p>
<p>In all of the examples above, they demonstrate using viper in its singleton
style approach.</p>
<h3><a href="#working-with-multiple-vipers" aria-hidden="true" class="anchor" id="user-content-working-with-multiple-vipers"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Working with multiple vipers</h3>
<p>You can also create many different vipers for use in your application. Each will
have its own unique set of configurations and values. Each can read from a
different config file, key value store, etc. All of the functions that viper
package supports are mirrored as methods on a viper.</p>
<p>Example:</p>
<div class="highlight highlight-source-go"><pre><span class="pl-smi">x</span> <span class="pl-k">:=</span> viper.<span class="pl-c1">New</span>()
<span class="pl-smi">y</span> <span class="pl-k">:=</span> viper.<span class="pl-c1">New</span>()

x.<span class="pl-c1">SetDefault</span>(<span class="pl-s"><span class="pl-pds">"</span>ContentDir<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>content<span class="pl-pds">"</span></span>)
y.<span class="pl-c1">SetDefault</span>(<span class="pl-s"><span class="pl-pds">"</span>ContentDir<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>foobar<span class="pl-pds">"</span></span>)

<span class="pl-c"><span class="pl-c">//</span>...</span></pre></div>
<p>When working with multiple vipers, it is up to the user to keep track of the
different vipers.</p>
<h2><a href="#q--a" aria-hidden="true" class="anchor" id="user-content-q--a"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Q &amp; A</h2>
<p>Q: Why not INI files?</p>
<p>A: Ini files are pretty awful. There’s no standard format, and they are hard to
validate. Viper is designed to work with JSON, TOML or YAML files. If someone
really wants to add this feature, I’d be happy to merge it. It’s easy to specify
which formats your application will permit.</p>
<p>Q: Why is it called “Viper”?</p>
<p>A: Viper is designed to be a <a href="http://en.wikipedia.org/wiki/Viper_%28G.I._Joe%29" rel="nofollow">companion</a>
to <a href="https://github.com/spf13/cobra">Cobra</a>. While both can operate completely
independently, together they make a powerful pair to handle much of your
application foundation needs.</p>
<p>Q: Why is it called “Cobra”?</p>
<p>A: Is there a better name for a <a href="http://en.wikipedia.org/wiki/Cobra_Commander" rel="nofollow">commander</a>?</p>
</article>
  </div>


  </div>
  <div class="modal-backdrop js-touch-events"></div>
</div>

    </div>
  </div>

  </div>

      
<div class="footer container-lg px-3" role="contentinfo">
  <div class="position-relative d-flex flex-justify-between pt-6 pb-2 mt-6 f6 text-gray border-top border-gray-light ">
    <ul class="list-style-none d-flex flex-wrap ">
      <li class="mr-3">© 2018 <span title="0.27743s from unicorn-3033043064-pzcnr">GitHub</span>, Inc.</li>
        <li class="mr-3"><a data-ga-click="Footer, go to terms, text:terms" href="https://github.com/site/terms">Terms</a></li>
        <li class="mr-3"><a data-ga-click="Footer, go to privacy, text:privacy" href="https://github.com/site/privacy">Privacy</a></li>
        <li class="mr-3"><a href="https://help.github.com/articles/github-security/" data-ga-click="Footer, go to security, text:security">Security</a></li>
        <li class="mr-3"><a href="https://status.github.com/" data-ga-click="Footer, go to status, text:status">Status</a></li>
        <li><a data-ga-click="Footer, go to help, text:help" href="https://help.github.com/">Help</a></li>
    </ul>

    <a aria-label="Homepage" title="GitHub" class="footer-octicon" href="https://github.com/">
      <svg height="24" class="octicon octicon-mark-github" viewBox="0 0 16 16" version="1.1" width="24" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path></svg>
</a>
   <ul class="list-style-none d-flex flex-wrap ">
        <li class="mr-3"><a data-ga-click="Footer, go to contact, text:contact" href="https://github.com/contact">Contact GitHub</a></li>
      <li class="mr-3"><a href="https://developer.github.com/" data-ga-click="Footer, go to api, text:api">API</a></li>
      <li class="mr-3"><a href="https://training.github.com/" data-ga-click="Footer, go to training, text:training">Training</a></li>
      <li class="mr-3"><a href="https://shop.github.com/" data-ga-click="Footer, go to shop, text:shop">Shop</a></li>
        <li class="mr-3"><a data-ga-click="Footer, go to blog, text:blog" href="https://github.com/blog">Blog</a></li>
        <li><a data-ga-click="Footer, go to about, text:about" href="https://github.com/about">About</a></li>

    </ul>
  </div>
  <div class="d-flex flex-justify-center pb-6">
    <span class="f6 text-gray-light"></span>
  </div>
</div>



  <div id="ajax-error-message" class="ajax-error-message flash flash-error">
    <svg class="octicon octicon-alert" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.865 1.52c-.18-.31-.51-.5-.87-.5s-.69.19-.87.5L.275 13.5c-.18.31-.18.69 0 1 .19.31.52.5.87.5h13.7c.36 0 .69-.19.86-.5.17-.31.18-.69.01-1L8.865 1.52zM8.995 13h-2v-2h2v2zm0-3h-2V6h2v4z"></path></svg>
    <button type="button" class="flash-close js-ajax-error-dismiss" aria-label="Dismiss error">
      <svg class="octicon octicon-x" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48z"></path></svg>
    </button>
    You can't perform that action at this time.
  </div>


    <script crossorigin="anonymous" integrity="sha512-gEAdDZ4LgyEE51A6EiCI5F8hC2pELVwJzk9fcRYT6JKNg92wpQhso4uD1rML8kTVE8FFW4G1hKIm+eWgX+D5/g==" type="application/javascript" src="compat-432e5bb0f7cc942dbf63a7c74de5da3c.js"></script>
    <script crossorigin="anonymous" integrity="sha512-bDFUXMGHFddte8PoN8CW5xNr/0w/9Zrfsjun90gr7lJdc7w5+NLGNrJHTPFeaZa5ph1MzSTQg7fqTg/CI95fSw==" type="application/javascript" src="frameworks-c566e2adb34ea4706cec5d285e57dd1d.js"></script>
    
    <script crossorigin="anonymous" async="async" integrity="sha512-FspCUYHDaHXVz5LCl2EX1HBt/MT/AQCE9KPdRlK+8FeNOJ7k0m65dn2pif/xweNj11pyKD7Cr7in2CqsrInyrg==" type="application/javascript" src="github-32d1893566590622c179214db67043a4.js"></script>
    
    
    
    
  <div class="js-stale-session-flash stale-session-flash flash flash-warn flash-banner d-none">
    <svg class="octicon octicon-alert" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.865 1.52c-.18-.31-.51-.5-.87-.5s-.69.19-.87.5L.275 13.5c-.18.31-.18.69 0 1 .19.31.52.5.87.5h13.7c.36 0 .69-.19.86-.5.17-.31.18-.69.01-1L8.865 1.52zM8.995 13h-2v-2h2v2zm0-3h-2V6h2v4z"></path></svg>
    <span class="signed-in-tab-flash">You signed in with another tab or window. <a href="">Reload</a> to refresh your session.</span>
    <span class="signed-out-tab-flash">You signed out in another tab or window. <a href="">Reload</a> to refresh your session.</span>
  </div>
  <div class="facebox" id="facebox" style="display:none;">
  <div class="facebox-popup">
    <div class="facebox-content" role="dialog" aria-labelledby="facebox-header" aria-describedby="facebox-description">
    </div>
    <button type="button" class="facebox-close js-facebox-close" aria-label="Close modal">
      <svg class="octicon octicon-x" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48z"></path></svg>
    </button>
  </div>
</div>

  <div class="Popover js-hovercard-content position-absolute" style="display: none; outline: none;" tabindex="0">
  <div class="Popover-message Popover-message--bottom-left Popover-message--large Box box-shadow-large" style="width:360px;">
  </div>
</div>

<div id="hovercard-aria-description" class="sr-only">
  Press h to open a hovercard with more details.
</div>


  


</body></html>